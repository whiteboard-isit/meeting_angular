(self.webpackChunkmeetings_manager=self.webpackChunkmeetings_manager||[]).push([[630],{7630:(Ee,yt,A)=>{"use strict";A.r(yt),A.d(yt,{GeneralModule:()=>Et});var Nt=A(4466),ce=A(6916),B=A(6895),X=A(3022),x=A(4006),t=A(4650),de=A(7274),he=A(7009),pe=A(2553),It=A(9523),me=A(4763),Ct=A.n(me);const F=["image"];class st{constructor(){this.croppedImg=new t.vpe,this.imageDestination=""}ngAfterViewInit(){this.cropper=new(Ct())(this.imageElement.nativeElement,{zoomable:!1,scalable:!1,aspectRatio:1,crop:()=>{const m=this.cropper.getCroppedCanvas();this.imageDestination=m.toDataURL("image/png"),this.croppedImg.emit(this.imageDestination)}})}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||st)};static#e=this.\u0275cmp=t.Xpm({type:st,selectors:[["app-image-cropper"]],viewQuery:function(n,v){if(1&n&&t.Gf(F,5),2&n){let b;t.iGM(b=t.CRH())&&(v.imageElement=b.first)}},inputs:{imageSource:["src","imageSource"]},outputs:{croppedImg:"croppedImg"},decls:5,vars:2,consts:[[1,"img-container"],["crossorigin","",3,"src"],["image",""],["id","preview-img",1,"img-preview",3,"src"],["preview",""]],template:function(n,v){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"img",1,2),t.qZA(),t._UZ(3,"img",3,4)),2&n&&(t.xp6(1),t.Q6J("src",v.imageSource,t.LSH),t.xp6(2),t.Q6J("src",v.imageDestination,t.LSH))},styles:[".img-container[_ngcontent-%COMP%]{width:640px;height:480px;float:left}.img-preview[_ngcontent-%COMP%]{width:200px;height:200px;float:left;margin-left:10px}"]})}var Ut=A(445),M=A(7288),tt=A(6188);const Bt=["cropper"],Xt=["preview"];function zt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function et(c,m){1&c&&t._UZ(0,"span",75)}function it(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,zt,3,3,"span",74),t.YNc(2,et,1,0,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("name_ar").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.profile_form.get("name_ar").hasError("pattern"))}}function lt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function z(c,m){1&c&&t._UZ(0,"span",75)}function gt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,lt,3,3,"span",74),t.YNc(2,z,1,0,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("name_en").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.profile_form.get("name_en").hasError("pattern"))}}function _t(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function vt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,_t,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("birth_date").hasError("required"))}}function xt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Lt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.this_element_contains_9_numbers")," "))}function Vt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,xt,3,3,"span",74),t.YNc(2,Lt,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("mobile").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.profile_form.get("mobile").hasError("pattern"))}}function S(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Gt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,S,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("gender").hasError("required"))}}function fe(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Dt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,fe,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("linkedin_link").hasError("required"))}}function kt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function bt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,kt,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.profile_form.get("twitter_link").hasError("required"))}}function Mt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Pt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Mt,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.account_form.get("username").hasError("required"))}}function Wt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Kt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.emailFormat")," "))}function Ot(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Wt,3,3,"span",74),t._UZ(2,"br"),t.YNc(3,Kt,3,3,"span",74),t._UZ(4,"br"),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.account_form.get("email").hasError("required")),t.xp6(2),t.Q6J("ngIf",n.account_form.get("email").hasError("email"))}}function St(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Yt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,St,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.password_form.get("old_password").hasError("required"))}}function Rt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function $t(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Rt,3,3,"span",74),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.password_form.get("password").hasError("required"))}}function ue(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function ge(c,m){1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.password_does_not_match")," "))}function _e(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,ue,3,3,"span",74),t.YNc(2,ge,3,3,"span",38),t.qZA()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.password_form.get("password_confirmation").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.password_form.get("password_confirmation").hasError("wrongPassword"))}}const V=function(c){return{"is-invalid border-danger":c}},ct=function(c){return{"is-invalid border border-danger":c}};function te(c,m){if(1&c){const n=t.EpF();t.ynx(0),t.TgZ(1,"ul",4)(2,"li",5)(3,"a",6),t._UZ(4,"i",7),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"li",5)(9,"a",9),t._UZ(10,"i",10),t.TgZ(11,"span",8),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"li",5)(15,"a",11),t._UZ(16,"i",12),t.TgZ(17,"span",8),t._uU(18),t.ALo(19,"translate"),t.qZA()()()(),t.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"form",18),t.NdJ("ngSubmit",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.submitProfileFormHandler())}),t.TgZ(26,"div",19)(27,"label",20),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",21)(31,"div",22),t._UZ(32,"img",23),t.TgZ(33,"div",24)(34,"div",25),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"input",26),t.NdJ("change",function(b){t.CHM(n);const I=t.oxw();return t.KtG(I.handleUpload(b))}),t.qZA()()()()(),t.TgZ(38,"div",19)(39,"label",20),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",21)(43,"div",27)(44,"div",28)(45,"button",29),t._UZ(46,"img",30),t.qZA(),t.TgZ(47,"div",31)(48,"a",32),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.changeCurrentLang("en","assets/img/united-states-flag.svg"))}),t._UZ(49,"img",33),t._uU(50," \u0627\u0644\u0623\u0646\u062c\u0644\u064a\u0632\u064a\u0629 "),t.qZA(),t.TgZ(51,"a",34),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.changeCurrentLang("ar","assets/img/saudi-arabia-flag.svg"))}),t._UZ(52,"img",35),t._uU(53," \u0627\u0644\u0639\u0631\u0628\u064a\u0629 "),t.qZA()()()()()(),t.TgZ(54,"div",19)(55,"label",20),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",36),t._UZ(59,"input",37),t.ALo(60,"translate"),t.YNc(61,it,3,2,"span",38),t.qZA()(),t.TgZ(62,"div",19)(63,"label",20),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",36),t._UZ(67,"input",39),t.ALo(68,"translate"),t.YNc(69,gt,3,2,"span",38),t.qZA()(),t.TgZ(70,"div",19)(71,"label",20),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"div",36),t._UZ(75,"input",40),t.ALo(76,"translate"),t.YNc(77,vt,2,1,"span",38),t.qZA()(),t.TgZ(78,"div",19)(79,"label",20),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"div",36),t._UZ(83,"input",41),t.ALo(84,"translate"),t.YNc(85,Vt,3,2,"span",38),t.qZA()(),t.TgZ(86,"div",19)(87,"label",20),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"div",36)(91,"select",42)(92,"option",43),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"option",44),t._uU(96),t.ALo(97,"translate"),t.qZA()(),t.YNc(98,Gt,2,1,"span",38),t.qZA()(),t.TgZ(99,"div",19)(100,"label",20),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"div",36)(104,"div",45)(105,"div",46)(106,"span",47),t._UZ(107,"i",48),t.qZA()(),t._UZ(108,"input",49),t.ALo(109,"translate"),t.qZA(),t.YNc(110,Dt,2,1,"span",38),t.qZA()(),t.TgZ(111,"div",19)(112,"label",20),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"div",36)(116,"div",45)(117,"div",46)(118,"span",47),t._UZ(119,"i",50),t.qZA()(),t._UZ(120,"input",51),t.ALo(121,"translate"),t.qZA(),t.YNc(122,bt,2,1,"span",38),t.qZA()(),t.TgZ(123,"div",52)(124,"div",53)(125,"button",54),t._uU(126),t.ALo(127,"translate"),t.qZA()()()()()()()(),t.TgZ(128,"div",55)(129,"div",15)(130,"div",17)(131,"form",56),t.NdJ("ngSubmit",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.submitAccountFormHandler())}),t.TgZ(132,"div",19)(133,"label",57),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",58),t._UZ(137,"input",59),t.ALo(138,"translate"),t.YNc(139,Pt,2,1,"span",38),t.qZA()(),t.TgZ(140,"div",19)(141,"label",57),t._uU(142),t.ALo(143,"translate"),t.qZA(),t.TgZ(144,"div",58)(145,"div",45)(146,"div",46)(147,"span",47),t._UZ(148,"i",60),t.qZA()(),t._UZ(149,"input",61),t.ALo(150,"translate"),t.qZA(),t.YNc(151,Ot,5,2,"span",38),t.qZA()(),t.TgZ(152,"div",52)(153,"div",53)(154,"button",62),t._uU(155),t.ALo(156,"translate"),t.qZA()()()()()()(),t.TgZ(157,"div",63)(158,"div",15)(159,"div",64)(160,"form",65),t.NdJ("ngSubmit",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.submitPasswordForm())}),t.TgZ(161,"div",17)(162,"div",19)(163,"label",66),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"div",67),t._UZ(167,"input",68),t.YNc(168,Yt,2,1,"span",38),t.qZA()(),t.TgZ(169,"div",19)(170,"label",66),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"div",67)(174,"div",45),t._UZ(175,"input",69),t.TgZ(176,"div",70)(177,"span",71),t._UZ(178,"i",72),t.qZA()()(),t.YNc(179,$t,2,1,"span",38),t.qZA()(),t.TgZ(180,"div",19)(181,"label",66),t._uU(182),t.ALo(183,"translate"),t.qZA(),t.TgZ(184,"div",67),t._UZ(185,"input",73),t.YNc(186,_e,3,2,"span",38),t.qZA()(),t.TgZ(187,"div",52)(188,"div",53)(189,"button",62),t._uU(190),t.ALo(191,"translate"),t.qZA()()()()()()()()(),t.BQk()}if(2&c){const n=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,60,"adminstration.profile")," "),t.xp6(6),t.hij(" ",t.lcZ(13,62,"adminstration.accountData")," "),t.xp6(6),t.hij(" ",t.lcZ(19,64,"adminstration.changePassword")," "),t.xp6(7),t.Q6J("formGroup",n.profile_form),t.xp6(3),t.hij(" ",t.lcZ(29,66,"adminstration.profile_img")," "),t.xp6(4),t.Q6J("src",n.currentUser.avatarURL,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(36,68,"adminstration.ClickToChangeImage")," "),t.xp6(5),t.hij(" ",t.lcZ(41,70,"adminstration.favouriteLang")," "),t.xp6(6),t.Q6J("src",n.selectedLn,t.LSH),t.xp6(10),t.hij(" ",t.lcZ(57,72,"adminstration.fullNameAr")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(60,74,"adminstration.fullNameAr")),t.Q6J("ngClass",t.VKq(122,V,n.inValidProfileForm&&n.profile_form.get("name_ar").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("name_ar").invalid&&n.profile_form.get("name_ar").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(65,76,"adminstration.fullNameEn")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(68,78,"adminstration.fullNameEn")),t.Q6J("ngClass",t.VKq(124,V,n.inValidProfileForm&&n.profile_form.get("name_en").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("name_en").invalid&&n.profile_form.get("name_en").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(73,80,"adminstration.dateOfBirth")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(76,82,"adminstration.dateOfBirth")),t.Q6J("ngClass",t.VKq(126,V,n.inValidProfileForm&&n.profile_form.get("birth_date").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("birth_date").invalid&&n.profile_form.get("birth_date").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(81,84,"adminstration.MOBILE")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(84,86,"adminstration.MOBILE")),t.Q6J("ngClass",t.VKq(128,V,n.inValidProfileForm&&n.profile_form.get("mobile").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("mobile").invalid&&n.profile_form.get("mobile").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(89,88,"adminstration.Gender")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(130,V,n.inValidProfileForm&&n.profile_form.get("gender").hasError("required"))),t.xp6(2),t.hij(" ",t.lcZ(94,90,"adminstration.male")," "),t.xp6(3),t.hij(" ",t.lcZ(97,92,"adminstration.female")," "),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("gender").invalid&&n.profile_form.get("gender").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(102,94,"adminstration.linkedInLink")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(109,96,"adminstration.linkedInLink")),t.Q6J("ngClass",t.VKq(132,ct,n.inValidProfileForm&&n.profile_form.get("linkedin_link").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("linkedin_link").invalid&&n.profile_form.get("linkedin_link").touched||n.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(114,98,"adminstration.twitterLink")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(121,100,"adminstration.twitterLink")),t.Q6J("ngClass",t.VKq(134,ct,n.inValidProfileForm&&n.profile_form.get("twitter_link").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.profile_form.get("twitter_link").invalid&&n.profile_form.get("twitter_link").touched||n.inValidProfileForm),t.xp6(4),t.hij(" ",t.lcZ(127,102,"adminstration.save")," "),t.xp6(5),t.Q6J("formGroup",n.account_form),t.xp6(3),t.hij(" ",t.lcZ(135,104,"adminstration.userName")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(138,106,"adminstration.userName")),t.Q6J("ngClass",t.VKq(136,ct,n.invalidAccount_form&&n.account_form.get("username").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.account_form.get("username").invalid&&n.account_form.get("username").touched||n.invalidAccount_form),t.xp6(3),t.hij(" ",t.lcZ(143,108,"adminstration.EMAIL")," "),t.xp6(7),t.MGl("placeholder"," ",t.lcZ(150,110,"adminstration.EMAIL"),""),t.Q6J("ngClass",t.VKq(138,ct,n.invalidAccount_form&&n.account_form.get("email").hasError("required"))),t.xp6(2),t.Q6J("ngIf",n.account_form.get("email").invalid&&n.account_form.get("email").touched||n.invalidAccount_form),t.xp6(4),t.hij(" ",t.lcZ(156,112,"adminstration.save")," "),t.xp6(5),t.Q6J("formGroup",n.password_form),t.xp6(4),t.hij(" ",t.lcZ(165,114,"adminstration.currentPassword")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(140,V,n.password_form.get("old_password").hasError("required")&&n.invalidPassword_form)),t.xp6(1),t.Q6J("ngIf",n.password_form.get("old_password").invalid&&n.password_form.get("old_password").touched||n.invalidPassword_form),t.xp6(3),t.hij(" ",t.lcZ(172,116,"adminstration.newPassword")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(142,ct,n.invalidPassword_form&&n.password_form.get("password").hasError("required"))),t.xp6(4),t.Q6J("ngIf",n.password_form.get("password").invalid&&n.password_form.get("password").touched||n.invalidPassword_form),t.xp6(3),t.hij(" ",t.lcZ(183,118,"adminstration.confirmPassword")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(144,V,n.password_form.get("password_confirmation").hasError("required")&&n.invalidPassword_form)),t.xp6(1),t.Q6J("ngIf",n.password_form.get("password_confirmation").invalid&&n.password_form.get("password_confirmation").touched||n.invalidPassword_form),t.xp6(4),t.hij(" ",t.lcZ(191,120,"adminstration.save")," ")}}function ee(c,m){1&c&&t._UZ(0,"app-loading")}function ie(c,m){if(1&c){const n=t.EpF();t.TgZ(0,"div",76)(1,"div",77)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",77)(6,"app-image-cropper",78),t.NdJ("croppedImg",function(b){t.CHM(n);const I=t.oxw();return t.KtG(I.profilePicHandler(b))}),t.qZA()(),t.TgZ(7,"div",79)(8,"button",80),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.closeDialog())}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",81),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.closeDialog())}),t._uU(12),t.ALo(13,"translate"),t.qZA()()()}if(2&c){const n=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"adminstration.CropImage")," "),t.xp6(3),t.Q6J("src",n.imgsrc),t.xp6(3),t.hij(" ",t.lcZ(10,6,"adminstration.save")," "),t.xp6(3),t.hij(" ",t.lcZ(13,8,"adminstration.close")," ")}}class wt{constructor(m,n,v,b,I){this.matDialog=m,this.fb=n,this._snackBar=v,this.authService=b,this.userService=I,this.selectedLn=localStorage.getItem("selectedLn")||"assets/img/saudi-arabia-flag.svg",this.unsubscribe=[],this.currentUser=null,this.inValidProfileForm=!1,this.invalidAccount_form=!1,this.invalidPassword_form=!1}changeCurrentLang(m,n){}ngOnInit(){this.fetchCurrentUser()}fetchCurrentUser(){this.authService.currentUser$.subscribe(m=>{this.currentUser=m,this.InitProfileForm(),this.InitAccountData(),this.InitPasswordForm()})}openDialog(m){this.dir=localStorage.getItem("direction"),console.log(m),this.matDialog.open(m,{direction:this.dir?this.dir:"rtl"})}closeDialog(){this.matDialog.closeAll()}handleUpload(m){const n=m.target.files[0],v=new FileReader;v.readAsDataURL(n),v.onload=()=>{this.imgsrc=v.result,this.openDialog(this.cropper)}}profilePicHandler(m){console.log(m)}InitProfileForm(){this.profile_form=this.fb.group({name_ar:[this.currentUser?.name_ar,[x.kI.required,x.kI.pattern("")]],name_en:[this.currentUser?.name_en,[x.kI.required,x.kI.pattern("")]],birth_date:[this.currentUser?.birth_date,[x.kI.required]],mobile:[this.currentUser?this.currentUser.mobile:"00",[x.kI.required,x.kI.pattern("[-+()0-9]+")]],gender:[1==this.currentUser?.gender?"male":"female",[x.kI.required]],linkedin_link:[this.currentUser?.linkedin_link],twitter_link:[this.currentUser?.twitter_link]})}submitProfileFormHandler(){if(this.profile_form.valid){const m=this.userService.updateProfile(this.profile_form.value).subscribe(n=>{this.authService.currentUserSubject.next(n.Data.user)});this.unsubscribe.push(m)}else this.inValidProfileForm=!0}InitAccountData(){this.account_form=this.fb.group({username:[this.currentUser?.username,[x.kI.required]],email:[this.currentUser?.email,[x.kI.required,x.kI.email,x.kI.pattern(".*com$")]]})}submitAccountFormHandler(){if(this.account_form.valid){const m=this.userService.updateAcountData(this.account_form.value).subscribe(n=>{this.authService.currentUserSubject.next(n.Data.user)});this.unsubscribe.push(m)}else this.invalidAccount_form=!0}InitPasswordForm(){this.password_form=this.fb.group({old_password:[this.currentUser?.password,[x.kI.required]],password:["",[x.kI.required]],password_confirmation:["",[x.kI.required]]})}submitPasswordForm(){if(this.password_form.valid){const m=this.userService.updatePassword(this.password_form.value).subscribe(n=>{});this.unsubscribe.push(m)}else this.invalidPassword_form=!0}openSnackBar(m,n){this._snackBar.open(m,n)}ngOnDestroy(){this.unsubscribe.forEach(m=>m.unsubscribe())}static#t=this.\u0275fac=function(n){return new(n||wt)(t.Y36(de.uw),t.Y36(x.qu),t.Y36(he.ux),t.Y36(pe.e),t.Y36(It.K))};static#e=this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-profile"]],viewQuery:function(n,v){if(1&n&&(t.Gf(Bt,7),t.Gf(Xt,7)),2&n){let b;t.iGM(b=t.CRH())&&(v.cropper=b.first),t.iGM(b=t.CRH())&&(v.preview=b.first)}},decls:6,vars:2,consts:[[1,"container","p-5","bg-white"],[4,"ngIf","ngIfElse"],["loading",""],["cropper",""],["id","pills-tab","role","tablist",1,"nav","navi-bold","navi-hover","navi-active","navi-link-rounded","d-flex","flex-nowrap","mb-3","navs_container"],[1,"nav-item"],["id","pills-home-tab","data-toggle","pill","href","#pills-home","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","py-4","text-nowrap","active"],[1,"fas","fa-user","text-primary"],[1,"navi-text","font-size-lg","m-2"],["id","pills-profile-tab","data-toggle","pill","href","#pills-profile","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link","py-4","text-nowrap"],[1,"far","fa-address-card","text-primary"],["id","pills-contact-tab","data-toggle","pill","href","#pills-contact","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link","py-4","text-nowrap"],[1,"fas","fa-unlock-alt","text-primary"],["id","pills-tabContent",1,"tab-content","mt-3"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],[1,"card"],[1,"card-header","py-3"],[1,"card-body"],["id","profile-form","method","POST",1,"login-forms",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-xl-3","col-lg-3","col-form-label"],[1,"col-lg-9","col-xl-6"],["id","profile-image-uploader-container",1,"image-uploader-container"],["width","100%","height","100$","srcset","",3,"src"],[1,"overlay"],[1,"text-center","cursor-pointer","mt-5"],["type","file","name","image","id","upload_image_profileImage",1,"image",3,"change"],[1,"col-6"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","text-white","dropdown-toggle"],["width","20","height","20",3,"src"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","cursor-pointer"],[1,"dropdown-item",3,"click"],["with","20","height","20","src","assets/img/united-states-flag.svg",1,"mx-2"],[1,"dropdown-item","cursor-pointer",3,"click"],["with","20","height","20","src","assets/img/saudi-arabia-flag.svg",1,"mx-2"],[1,"col-lg-9","col-xl-9"],["id","name_ar","formControlName","name_ar","type","text",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[4,"ngIf"],["id","name_en","name","name_en","type","text","formControlName","name_en",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["type","date","id","birthdate","formControlName","birth_date",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],["dir","ltr","type","text","id","phone","formControlName","mobile",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],["id","gender","name","gender","formControlName","gender",1,"form-control","form-control-lg","form-control-solid","pt-1",3,"ngClass"],["value","male"],["value","female"],[1,"input-group","input-group-lg","input-group-solid"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fab","fa-linkedin-in"],["id","facebook_link","type","text","formControlName","linkedin_link",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[1,"fab","fa-twitter"],["id","twitter_link","type","text","formControlName","twitter_link",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[1,"form-group","row","justify-content-end"],[1,"card-toolbar","col-md-3"],["type","submit",1,"btn","btn-success","w-100"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],["method","POST",1,"form","repeater-default",3,"formGroup","ngSubmit"],[1,"col-lg-2","col-form-label"],[1,"col-md-10"],["id","username","formControlName","username","type","text",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],[1,"fas","fa-at"],["id","email","formControlName","email","type","text",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["type","submit",1,"btn","btn-success","mr-2","w-100"],["id","pills-contact","role","tabpanel","aria-labelledby","pills-contact-tab",1,"tab-pane","fade"],["id","kt_repeater_1",1,"card-body"],["method","POST",1,"form",3,"formGroup","ngSubmit"],[1,"col-md-3","col-form-label","text-alert"],[1,"col-md-9"],["type","password","formControlName","old_password",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"ngClass"],["id","password","type","password","aria-describedby","basic-addon2","formControlName","password",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"ngClass"],[1,"input-group-append"],["id","passowrdGeneratorbutton",1,"input-group-text"],["aria-hidden","true",1,"fa","fa-cogs"],["type","password","id","password_confirmation","formControlName","password_confirmation",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"row"],[1,"col-md-12"],[3,"src","croppedImg"],[1,"d-flex","justify-content-end","mb-5","mx-3","mt-5","w-100"],[1,"btn","btn-light-primary",3,"click"],[1,"btn","btn-secondary","mx-4",3,"click"]],template:function(n,v){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,te,192,146,"ng-container",1),t.YNc(2,ee,1,0,"ng-template",null,2,t.W1O),t.YNc(4,ie,14,10,"ng-template",null,3,t.W1O),t.qZA()),2&n){const b=t.MAs(3);t.xp6(1),t.Q6J("ngIf",v.currentUser)("ngIfElse",b)}},dependencies:[B.mk,B.O5,st,x._Y,x.YN,x.Kr,x.Fj,x.EJ,x.JJ,x.JL,x.sg,x.u,Ut.Lv,M.N,tt.X$],styles:["#mobile{padding-left:90px;padding-right:1rem;top:0;left:0;right:0;height:100%;position:absolute}.iti__country-list{left:0}.ltr{direction:ltr}#profile-image-uploader-container{width:117px;position:relative}#preview_profileImage{overflow:hidden;width:160px!important;height:160px;margin:10px;border:1px solid red}.overlay{position:absolute;bottom:0;left:0;right:0;background-color:#ffffff80;overflow:hidden;height:80%;transition:.5s ease;width:100%;opacity:0}#upload_image_profileImage{position:absolute;top:0;left:-135px;bottom:1px;cursor:pointer;opacity:0}.image-uploader-container:hover .overlay{opacity:1}.mat-mdc-tab-body-wrapper,.mat-mdc-tab-label-container{z-index:0!important}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{z-index:0}.mat-mdc-tab-header{background-color:#fff;padding:10px}.active{background:#eef0f8;border-radius:7px}.navs_container{overflow:auto;width:auto}::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#9ac9f9}::-webkit-scrollbar-thumb:hover{background:#1560ac}.mat-mdc-button .mdc-button__label{z-index:1;background:transparent;border:1px solid white;color:#bebebe;padding:6px;border-radius:5px}.phoneInput{direction:ltr}\n"],encapsulation:2})}var Jt=A(5136),ve=(A(2340),A(529)),xe=A(4889);class G extends Jt.b{constructor(m,n){super(m,"General","ToDo",n)}static#t=this.\u0275fac=function(n){return new(n||G)(t.LFG(ve.eN),t.LFG(xe.T))};static#e=this.\u0275prov=t.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}var J=A(9549),re=A(754),oe=A(4144),w=A(9602),jt=A(7392),at=A(2371);function rt(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function Ze(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function dt(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function Y(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function Ae(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function ne(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}class q{constructor(m,n,v,b){this.fb=m,this.TodoService=n,this.router=v,this.datePipe=b}ngOnInit(){this.createForm()}createForm(){this.addTodoForm=this.fb.group({user_id:["",[x.kI.required]],title:["",[x.kI.required]],description:[""],startDate:["",[x.kI.required]],endDate:["",[x.kI.required]],startTime:["",[x.kI.required]],endTime:["",[x.kI.required]],start:["",[x.kI.required]],end:["",[x.kI.required]]})}saveToDo(){this.addTodoForm.get("start").patchValue(this.datePipe.transform(this.addTodoForm.get("startDate").value,"yyyy-MM-dd").concat(" ").concat(this.addTodoForm.get("startTime").value)),this.addTodoForm.get("end").patchValue(this.datePipe.transform(this.addTodoForm.get("endDate").value,"yyyy-MM-dd").concat(" ").concat(this.addTodoForm.get("endTime").value)),this.addTodoForm.valid&&this.TodoService.create(this.addTodoForm.value).subscribe(m=>{this.router.navigate(["General/todo"])})}static#t=this.\u0275fac=function(n){return new(n||q)(t.Y36(x.qu),t.Y36(G),t.Y36(X.F0),t.Y36(B.uU))};static#e=this.\u0275cmp=t.Xpm({type:q,selectors:[["app-todo-add"]],decls:72,vars:39,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","submit","form","toDo-form",1,"btn","btn-primary","btn-lg"],[1,"card-body"],["id","toDo-form","method","POST",3,"formGroup","ngSubmit"],[1,"row","justify-content-right"],[1,"col"],[1,"form-group"],["inputName","user_id",3,"form"],[1,"col-12"],[1,"example-full-width","w-100"],["matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],[1,"col-5","px-0"],["appearance","fill",1,"w-100"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startDate",""],[1,"w-100"],["matInput","","name","selected_time_A","formControlName","startTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["matSuffix","",3,"click"],["startTime",""],[1,"col-2"],["matInput","","formControlName","endDate",3,"matDatepicker","min"],["endDate",""],["matInput","","name","selected_time_A","formControlName","endTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["endTime",""]],template:function(n,v){if(1&n){const b=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",6)(11,"form",7),t.NdJ("ngSubmit",function(){return v.saveToDo()}),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10),t._UZ(15,"app-users-search",11),t.qZA()()(),t.TgZ(16,"div",8)(17,"div",12)(18,"div",10)(19,"mat-form-field",13)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",14),t.ALo(24,"translate"),t.YNc(25,rt,4,3,"mat-error",15),t.qZA()()(),t.TgZ(26,"div",12)(27,"div",10)(28,"mat-form-field",13)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"textarea",16),t.ALo(33,"translate"),t.YNc(34,Ze,4,3,"mat-error",15),t.qZA()()(),t.TgZ(35,"div",17)(36,"mat-form-field",18)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",19)(41,"mat-datepicker-toggle",20)(42,"mat-datepicker",null,21),t.YNc(44,dt,3,3,"mat-error",15),t.qZA(),t.TgZ(45,"mat-form-field",22),t._UZ(46,"input",23),t.TgZ(47,"mat-icon",24),t.NdJ("click",function(){t.CHM(b);const O=t.MAs(51);return t.KtG(O.open())}),t._uU(48," watch_later "),t.qZA(),t.YNc(49,Y,3,3,"mat-error",15),t.qZA(),t._UZ(50,"ngx-mat-timepicker",null,25),t.qZA(),t._UZ(52,"div",26),t.TgZ(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",27),t.TgZ(59,"mat-hint"),t._uU(60,"MM/DD/YYYY"),t.qZA(),t._UZ(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,28),t.YNc(64,Ae,3,3,"mat-error",15),t.qZA(),t.TgZ(65,"mat-form-field",22),t._UZ(66,"input",29),t.TgZ(67,"mat-icon",24),t.NdJ("click",function(){t.CHM(b);const O=t.MAs(71);return t.KtG(O.open())}),t._uU(68," watch_later "),t.qZA(),t.YNc(69,ne,3,3,"mat-error",15),t.qZA(),t._UZ(70,"ngx-mat-timepicker",null,30),t.qZA()()()()()}if(2&n){const b=t.MAs(43),I=t.MAs(51),O=t.MAs(63),Qt=t.MAs(71);t.xp6(4),t.hij(" ",t.lcZ(5,23,"meeting_manager.add_new")," "),t.xp6(4),t.hij(" ",t.lcZ(9,25,"adminstration.save")," "),t.xp6(3),t.Q6J("formGroup",v.addTodoForm),t.xp6(4),t.Q6J("form",v.addTodoForm),t.xp6(6),t.hij(" ",t.lcZ(22,27,"adminstration.title")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,29,"adminstration.title")),t.xp6(2),t.Q6J("ngIf",v.addTodoForm.get("title").hasError("required")),t.xp6(5),t.Oqu(t.lcZ(31,31,"adminstration.description")),t.xp6(2),t.s9C("placeholder",t.lcZ(33,33,"adminstration.description")),t.xp6(2),t.Q6J("ngIf",v.addTodoForm.get("description").hasError("required")),t.xp6(4),t.Oqu(t.lcZ(39,35,"meeting_manager.start_date")),t.xp6(2),t.Q6J("matDatepicker",b),t.xp6(1),t.Q6J("for",b),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("startDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",I),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("startTime").hasError("required")),t.xp6(7),t.Oqu(t.lcZ(57,37,"meeting_manager.end_date")),t.xp6(2),t.Q6J("matDatepicker",O)("min",v.addTodoForm.get("startDate").value),t.xp6(3),t.Q6J("for",O),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("endDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",Qt),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("endTime").hasError("required"))}},dependencies:[B.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,J.KE,J.hX,J.bx,J.TO,J.R9,re.L,oe.Nt,w.Mq,w.hl,w.nW,jt.Hw,at.ft,at.Bi,tt.X$],styles:[".mat-radio-button[_ngcontent-%COMP%]{margin:1rem}.mat-checkbox[_ngcontent-%COMP%]{display:inline-block;margin:1rem 1rem 1rem 0}.mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.mat-card[_ngcontent-%COMP%]{max-width:300px}.mat-slider[_ngcontent-%COMP%]{margin:0 .5rem}mat-placeholder[_ngcontent-%COMP%]{text-transform:capitalize}"]})}class D{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||D)};static#e=this.\u0275cmp=t.Xpm({type:D,selectors:[["app-todo-index"]],decls:1,vars:0,template:function(n,v){1&n&&t._UZ(0,"router-outlet")},dependencies:[X.lC]})}var ye=A(572);const ht=function(){return["add"]};class qt{constructor(m,n,v){this.TodoService=m,this.translate=n,this.route=v}ngOnInit(){this.columns=[{data:"title",title:this.translate.instant("adminstration.title")},{data:"is_done",title:this.translate.instant("adminstration.status")},{data:"start",title:this.translate.instant("meeting_manager.start_date")},{data:"end",title:this.translate.instant("meeting_manager.end_date")},{data:"action",title:this.translate.instant("adminstration.actions"),searchable:!1,orderable:!1}]}eventHandler(m){switch(console.log("event ",m),m.type){case"delete":this.TodoService.delete(m.payload).subscribe(()=>{this.TodoService.datatableRerender.next(!0)});break;case"update":this.route.navigate(["General/todo/todo-update",m.payload])}}static#t=this.\u0275fac=function(n){return new(n||qt)(t.Y36(G),t.Y36(tt.sK),t.Y36(X.F0))};static#e=this.\u0275cmp=t.Xpm({type:qt,selectors:[["app-todo-list"]],decls:13,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-primary","font-weight-bolder",3,"routerLink"],["aria-hidden","true",1,"fa","fa-plus"],[1,"card-body","dataTable_container"],[3,"method","service","columns","event"]],template:function(n,v){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"a",5),t._UZ(8,"i",6),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",7)(12,"app-data-table",8),t.NdJ("event",function(I){return v.eventHandler(I)}),t.qZA()()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,6,"adminstration.myActivity")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(10,ht)),t.xp6(2),t.hij(" ",t.lcZ(10,8,"meeting_manager.add_new")," "),t.xp6(3),t.Q6J("method","listDataTable")("service",v.TodoService)("columns",v.columns))},dependencies:[X.rH,ye.Q,tt.X$],styles:[".flaticon2-chronometer[_ngcontent-%COMP%]{font-size:1.3em}.dataTable_container[_ngcontent-%COMP%]{overflow:auto}"]})}function W(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function Ce(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function N(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function Q(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function pt(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function De(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}class mt{constructor(m,n,v,b){this.fb=m,this.router=n,this.TodoService=v,this.ActiveRoute=b,this.preSelectedUsers=[]}ngOnInit(){this.createForm(),this.getSlug()}createForm(){this.updateTodoForm=this.fb.group({user_id:[this.preSelectedUsers,[x.kI.required]],title:["",[x.kI.required]],description:["",[x.kI.required]],startDate:["",[x.kI.required]],startTime:["",[x.kI.required]],endDate:["",[x.kI.required]],endTime:["",[x.kI.required]]})}getSlug(){this.ActiveRoute.params.subscribe(m=>{this.slug=m.slug,this.showTodo()})}updateTodo(){this.TodoService.update(this.slug,this.updateTodoForm.value).subscribe(m=>{this.router.navigate(["General/todo"])})}showTodo(){this.TodoService.show(this.slug).subscribe(m=>{var n=m.Data.toDo.start.split(" "),v=m.Data.toDo.end.split(" ");this.updateTodoForm.get("startDate").patchValue(n[0]),this.updateTodoForm.get("startTime").patchValue(n[1]),this.updateTodoForm.get("endDate").patchValue(v[0]),this.updateTodoForm.get("endTime").patchValue(v[1]),this.preSelectedUsers.push({id:m.Data.toDo.user_id,type:"user"}),this.updateTodoForm.get("title").patchValue(m.Data.toDo.title),this.updateTodoForm.get("description").patchValue(m.Data.toDo.description),console.log("date = ",n[0],"time = ",n[1],"Data = ",m.Data.toDo)})}static#t=this.\u0275fac=function(n){return new(n||mt)(t.Y36(x.qu),t.Y36(X.F0),t.Y36(G),t.Y36(X.gz))};static#e=this.\u0275cmp=t.Xpm({type:mt,selectors:[["app-todo-update"]],decls:72,vars:40,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","submit","form","update-form",1,"btn","btn-primary","btn-lg"],[1,"card-body"],["id","update-form","method","POST",3,"formGroup","ngSubmit"],[1,"row","justify-content-right"],[1,"col"],[1,"form-group"],["inputName","user_id",3,"form","attendeesItems","preSelected"],[1,"col-12"],[1,"example-full-width","w-100"],["matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],[1,"col-5","px-0"],["appearance","fill",1,"w-100"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startDate",""],[1,"w-100"],["matInput","","name","selected_time_A","formControlName","startTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["matSuffix","",3,"click"],["startTime",""],[1,"col-2"],["matInput","","formControlName","endDate",3,"matDatepicker"],["endDate",""],["matInput","","name","selected_time_A","formControlName","endTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["endTime",""]],template:function(n,v){if(1&n){const b=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",6)(11,"form",7),t.NdJ("ngSubmit",function(){return v.updateTodo()}),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10),t._UZ(15,"app-users-search",11),t.qZA()()(),t.TgZ(16,"div",8)(17,"div",12)(18,"div",10)(19,"mat-form-field",13)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",14),t.ALo(24,"translate"),t.YNc(25,W,4,3,"mat-error",15),t.qZA()()(),t.TgZ(26,"div",12)(27,"div",10)(28,"mat-form-field",13)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"textarea",16),t.ALo(33,"translate"),t.YNc(34,Ce,4,3,"mat-error",15),t.qZA()()(),t.TgZ(35,"div",17)(36,"mat-form-field",18)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",19)(41,"mat-datepicker-toggle",20)(42,"mat-datepicker",null,21),t.YNc(44,N,3,3,"mat-error",15),t.qZA(),t.TgZ(45,"mat-form-field",22),t._UZ(46,"input",23),t.TgZ(47,"mat-icon",24),t.NdJ("click",function(){t.CHM(b);const O=t.MAs(51);return t.KtG(O.open())}),t._uU(48," watch_later "),t.qZA(),t.YNc(49,Q,3,3,"mat-error",15),t.qZA(),t._UZ(50,"ngx-mat-timepicker",null,25),t.qZA(),t._UZ(52,"div",26),t.TgZ(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",27),t.TgZ(59,"mat-hint"),t._uU(60,"MM/DD/YYYY"),t.qZA(),t._UZ(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,28),t.YNc(64,pt,3,3,"mat-error",15),t.qZA(),t.TgZ(65,"mat-form-field",22),t._UZ(66,"input",29),t.TgZ(67,"mat-icon",24),t.NdJ("click",function(){t.CHM(b);const O=t.MAs(71);return t.KtG(O.open())}),t._uU(68," watch_later "),t.qZA(),t.YNc(69,De,3,3,"mat-error",15),t.qZA(),t._UZ(70,"ngx-mat-timepicker",null,30),t.qZA()()()()()}if(2&n){const b=t.MAs(43),I=t.MAs(51),O=t.MAs(63),Qt=t.MAs(71);t.xp6(4),t.hij(" ",t.lcZ(5,24,"meeting_manager.edit")," "),t.xp6(4),t.hij(" ",t.lcZ(9,26,"adminstration.save")," "),t.xp6(3),t.Q6J("formGroup",v.updateTodoForm),t.xp6(4),t.Q6J("form",v.updateTodoForm)("attendeesItems",v.updateTodoForm.get("user_id").value)("preSelected",v.preSelectedUsers),t.xp6(6),t.hij(" ",t.lcZ(22,28,"adminstration.title")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,30,"adminstration.title")),t.xp6(2),t.Q6J("ngIf",v.updateTodoForm.get("title").hasError("required")),t.xp6(5),t.Oqu(t.lcZ(31,32,"adminstration.description")),t.xp6(2),t.s9C("placeholder",t.lcZ(33,34,"adminstration.description")),t.xp6(2),t.Q6J("ngIf",v.updateTodoForm.get("description").hasError("required")),t.xp6(4),t.Oqu(t.lcZ(39,36,"meeting_manager.start_date")),t.xp6(2),t.Q6J("matDatepicker",b),t.xp6(1),t.Q6J("for",b),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("startDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",I),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("startTime").hasError("required")),t.xp6(7),t.Oqu(t.lcZ(57,38,"meeting_manager.end_date")),t.xp6(2),t.Q6J("matDatepicker",O),t.xp6(3),t.Q6J("for",O),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("endDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",Qt),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("endTime").hasError("required"))}},dependencies:[B.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,J.KE,J.hX,J.bx,J.TO,J.R9,re.L,oe.Nt,w.Mq,w.hl,w.nW,jt.Hw,at.ft,at.Bi,tt.X$]})}const Ft=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:wt},{path:"todo",component:D,children:[{path:"",component:qt},{path:"add",component:q},{path:"todo-update/:slug",component:mt}]}];class K{static#t=this.\u0275fac=function(n){return new(n||K)};static#e=this.\u0275mod=t.oAB({type:K});static#i=this.\u0275inj=t.cJS({imports:[X.Bz.forChild(Ft),X.Bz]})}class Et{static#t=this.\u0275fac=function(n){return new(n||Et)};static#e=this.\u0275mod=t.oAB({type:Et});static#i=this.\u0275inj=t.cJS({providers:[B.uU],imports:[B.ez,K,Nt.m,ce.q,w.FA,at.Yy.setLocale("en-GB")]})}},4763:function(Ee){Ee.exports=function(){"use strict";function yt(r,e){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),a.push.apply(a,i)}return a}function A(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(a),!0).forEach(function(i){x(r,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(a,i))})}return r}function Nt(r){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function ce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function B(r,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function x(r,e,a){return e in r?Object.defineProperty(r,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[e]=a,r}function t(r){return function de(r){if(Array.isArray(r))return It(r)}(r)||function he(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function pe(r,e){if(r){if("string"==typeof r)return It(r,e);var a=Object.prototype.toString.call(r).slice(8,-1);if("Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a)return Array.from(r);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return It(r,e)}}(r)||function me(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(r,e){(null==e||e>r.length)&&(e=r.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=r[a];return i}var Ct=typeof window<"u"&&typeof window.document<"u",F=Ct?window:{},st=!(!Ct||!F.document.documentElement)&&"ontouchstart"in F.document.documentElement,Ut=!!Ct&&"PointerEvent"in F,M="cropper",z="n",gt="ne",_t="nw",vt="se",xt="sw",Lt="".concat(M,"-crop"),Vt="".concat(M,"-disabled"),S="".concat(M,"-hidden"),Gt="".concat(M,"-hide"),fe="".concat(M,"-invisible"),Dt="".concat(M,"-modal"),kt="".concat(M,"-move"),bt="".concat(M,"Action"),Mt="".concat(M,"Preview"),Pt="crop",Ot="crop",St="cropend",Yt="cropmove",Rt="cropstart",$t="dblclick",V=Ut?"pointerdown":st?"touchstart":"mousedown",ct=Ut?"pointermove":st?"touchmove":"mousemove",te=Ut?"pointerup pointercancel":st?"touchend touchcancel":"mouseup",Jt="zoom",ae="image/jpeg",ve=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xe=/^data:/,be=/^data:image\/jpeg;base64,/,we=/^img|canvas$/i,J={viewMode:0,dragMode:Pt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},oe=Number.isNaN||F.isNaN;function w(r){return"number"==typeof r&&!oe(r)}var jt=function(e){return e>0&&e<1/0};function at(r){return typeof r>"u"}function rt(r){return"object"===Nt(r)&&null!==r}var Ze=Object.prototype.hasOwnProperty;function dt(r){if(!rt(r))return!1;try{var e=r.constructor,a=e.prototype;return e&&a&&Ze.call(a,"isPrototypeOf")}catch{return!1}}function Y(r){return"function"==typeof r}var Ae=Array.prototype.slice;function ne(r){return Array.from?Array.from(r):Ae.call(r)}function q(r,e){return r&&Y(e)&&(Array.isArray(r)||w(r.length)?ne(r).forEach(function(a,i){e.call(r,a,i,r)}):rt(r)&&Object.keys(r).forEach(function(a){e.call(r,r[a],a,r)})),r}var D=Object.assign||function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return rt(e)&&i.length>0&&i.forEach(function(o){rt(o)&&Object.keys(o).forEach(function(s){e[s]=o[s]})}),e},ye=/\.\d*(?:0|9){12}\d*$/;function ht(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ye.test(r)?Math.round(r*e)/e:r}var qt=/^width|height|left|top|marginLeft|marginTop$/;function W(r,e){var a=r.style;q(e,function(i,l){qt.test(l)&&w(i)&&(i="".concat(i,"px")),a[l]=i})}function N(r,e){if(e){if(w(r.length))return void q(r,function(i){N(i,e)});if(r.classList)return void r.classList.add(e);var a=r.className.trim();a?a.indexOf(e)<0&&(r.className="".concat(a," ").concat(e)):r.className=e}}function Q(r,e){if(e){if(w(r.length))return void q(r,function(a){Q(a,e)});if(r.classList)return void r.classList.remove(e);r.className.indexOf(e)>=0&&(r.className=r.className.replace(e,""))}}function pt(r,e,a){if(e){if(w(r.length))return void q(r,function(i){pt(i,e,a)});a?N(r,e):Q(r,e)}}var De=/([a-z\d])([A-Z])/g;function mt(r){return r.replace(De,"$1-$2").toLowerCase()}function Ft(r,e){return rt(r[e])?r[e]:r.dataset?r.dataset[e]:r.getAttribute("data-".concat(mt(e)))}function K(r,e,a){rt(a)?r[e]=a:r.dataset?r.dataset[e]=a:r.setAttribute("data-".concat(mt(e)),a)}var c=/\s\s*/,m=function(){var r=!1;if(Ct){var e=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return r=!0,e},set:function(o){e=o}});F.addEventListener("test",a,i),F.removeEventListener("test",a,i)}return r}();function n(r,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a;e.trim().split(c).forEach(function(o){if(!m){var s=r.listeners;s&&s[o]&&s[o][a]&&(l=s[o][a],delete s[o][a],0===Object.keys(s[o]).length&&delete s[o],0===Object.keys(s).length&&delete r.listeners)}r.removeEventListener(o,l,i)})}function v(r,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a;e.trim().split(c).forEach(function(o){if(i.once&&!m){var s=r.listeners,d=void 0===s?{}:s;l=function(){delete d[o][a],r.removeEventListener(o,l,i);for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];a.apply(r,h)},d[o]||(d[o]={}),d[o][a]&&r.removeEventListener(o,d[o][a],i),d[o][a]=l,r.listeners=d}r.addEventListener(o,l,i)})}function b(r,e,a){var i;return Y(Event)&&Y(CustomEvent)?i=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,a),r.dispatchEvent(i)}function I(r){var e=r.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var O=F.location,Qt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ne(r){var e=r.match(Qt);return null!==e&&(e[1]!==O.protocol||e[2]!==O.hostname||e[3]!==O.port)}function Ie(r){var e="timestamp=".concat((new Date).getTime());return r+(-1===r.indexOf("?")?"?":"&")+e}function Ht(r){var e=r.rotate,a=r.scaleX,i=r.scaleY,l=r.translateX,o=r.translateY,s=[];w(l)&&0!==l&&s.push("translateX(".concat(l,"px)")),w(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),w(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),w(a)&&1!==a&&s.push("scaleX(".concat(a,")")),w(i)&&1!==i&&s.push("scaleY(".concat(i,")"));var d=s.length?s.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function se(r,e){var a=r.pageX,i=r.pageY,l={endX:a,endY:i};return e?l:A({startX:a,startY:i},l)}function ft(r){var e=r.aspectRatio,a=r.height,i=r.width,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=jt(i),s=jt(a);if(o&&s){var d=a*e;"contain"===l&&d>i||"cover"===l&&d<i?a=i/e:i=a*e}else o?a=i/e:s&&(i=a*e);return{width:i,height:a}}function je(r,e,a,i){var l=e.aspectRatio,o=e.naturalWidth,s=e.naturalHeight,d=e.rotate,g=void 0===d?0:d,f=e.scaleX,h=void 0===f?1:f,p=e.scaleY,u=void 0===p?1:p,Z=a.aspectRatio,T=a.naturalWidth,E=a.naturalHeight,y=i.fillColor,L=void 0===y?"transparent":y,P=i.imageSmoothingEnabled,U=void 0===P||P,ot=i.imageSmoothingQuality,j=void 0===ot?"low":ot,_=i.maxWidth,C=void 0===_?1/0:_,k=i.maxHeight,H=void 0===k?1/0:k,nt=i.minWidth,Tt=void 0===nt?0:nt,Zt=i.minHeight,ut=void 0===Zt?0:Zt,$=document.createElement("canvas"),R=$.getContext("2d"),At=ft({aspectRatio:Z,width:C,height:H}),le=ft({aspectRatio:Z,width:Tt,height:ut},"cover"),Me=Math.min(At.width,Math.max(le.width,T)),qe=Math.min(At.height,Math.max(le.height,E)),ke=ft({aspectRatio:l,width:C,height:H}),Pe=ft({aspectRatio:l,width:Tt,height:ut},"cover"),Oe=Math.min(ke.width,Math.max(Pe.width,o)),Se=Math.min(ke.height,Math.max(Pe.height,s)),ii=[-Oe/2,-Se/2,Oe,Se];return $.width=ht(Me),$.height=ht(qe),R.fillStyle=L,R.fillRect(0,0,Me,qe),R.save(),R.translate(Me/2,qe/2),R.rotate(g*Math.PI/180),R.scale(h,u),R.imageSmoothingEnabled=U,R.imageSmoothingQuality=j,R.drawImage.apply(R,[r].concat(t(ii.map(function(ai){return Math.floor(ht(ai))})))),R.restore(),$}var Ue=String.fromCharCode;var Qe=/^data:.*,/;function Xe(r){var a,e=new DataView(r);try{var i,l,o;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var s=e.byteLength,d=2;d+1<s;){if(255===e.getUint8(d)&&225===e.getUint8(d+1)){l=d;break}d+=1}if(l){var f=l+10;if("Exif"===function Fe(r,e,a){var i="";a+=e;for(var l=e;l<a;l+=1)i+=Ue(r.getUint8(l));return i}(e,l+4,4)){var h=e.getUint16(f);if(((i=18761===h)||19789===h)&&42===e.getUint16(f+2,i)){var p=e.getUint32(f+4,i);p>=8&&(o=f+p)}}}if(o){var Z,T,u=e.getUint16(o,i);for(T=0;T<u;T+=1)if(274===e.getUint16(Z=o+12*T+2,i)){a=e.getUint16(Z+=8,i),e.setUint16(Z,1,i);break}}}catch{a=1}return a}var Ve={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,i=this.container,l=this.cropper,o=Number(a.minContainerWidth),s=Number(a.minContainerHeight);N(l,S),Q(e,S);var d={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,s>=0?s:100)};this.containerData=d,W(l,{width:d.width,height:d.height}),N(e,S),Q(l,S)},initCanvas:function(){var e=this.containerData,a=this.imageData,i=this.options.viewMode,l=Math.abs(a.rotate)%180==90,o=l?a.naturalHeight:a.naturalWidth,s=l?a.naturalWidth:a.naturalHeight,d=o/s,g=e.width,f=e.height;e.height*d>e.width?3===i?g=e.height*d:f=e.width/d:3===i?f=e.width/d:g=e.height*d;var h={aspectRatio:d,naturalWidth:o,naturalHeight:s,width:g,height:f};this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(e.width-h.width)/2,h.top=(e.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=D({},h)},limitCanvas:function(e,a){var i=this.options,l=this.containerData,o=this.canvasData,s=this.cropBoxData,d=i.viewMode,g=o.aspectRatio,f=this.cropped&&s;if(e){var h=Number(i.minCanvasWidth)||0,p=Number(i.minCanvasHeight)||0;d>1?(h=Math.max(h,l.width),p=Math.max(p,l.height),3===d&&(p*g>h?h=p*g:p=h/g)):d>0&&(h?h=Math.max(h,f?s.width:0):p?p=Math.max(p,f?s.height:0):f&&((p=s.height)*g>(h=s.width)?h=p*g:p=h/g));var u=ft({aspectRatio:g,width:h,height:p});p=u.height,o.minWidth=h=u.width,o.minHeight=p,o.maxWidth=1/0,o.maxHeight=1/0}if(a)if(d>(f?0:1)){var Z=l.width-o.width,T=l.height-o.height;o.minLeft=Math.min(0,Z),o.minTop=Math.min(0,T),o.maxLeft=Math.max(0,Z),o.maxTop=Math.max(0,T),f&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,2===d&&(o.width>=l.width&&(o.minLeft=Math.min(0,Z),o.maxLeft=Math.max(0,Z)),o.height>=l.height&&(o.minTop=Math.min(0,T),o.maxTop=Math.max(0,T))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=l.width,o.maxTop=l.height},renderCanvas:function(e,a){var i=this.canvasData,l=this.imageData;if(a){var o=function Je(r){var e=r.width,a=r.height,i=r.degree;if(90==(i=Math.abs(i)%180))return{width:a,height:e};var l=i%90*Math.PI/180,o=Math.sin(l),s=Math.cos(l),d=e*s+a*o,g=e*o+a*s;return i>90?{width:g,height:d}:{width:d,height:g}}({width:l.naturalWidth*Math.abs(l.scaleX||1),height:l.naturalHeight*Math.abs(l.scaleY||1),degree:l.rotate||0}),s=o.width,d=o.height,g=i.width*(s/i.naturalWidth),f=i.height*(d/i.naturalHeight);i.left-=(g-i.width)/2,i.top-=(f-i.height)/2,i.width=g,i.height=f,i.aspectRatio=s/d,i.naturalWidth=s,i.naturalHeight=d,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,W(this.canvas,D({width:i.width,height:i.height},Ht({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,i=this.imageData,l=i.naturalWidth*(a.width/a.naturalWidth),o=i.naturalHeight*(a.height/a.naturalHeight);D(i,{width:l,height:o,left:(a.width-l)/2,top:(a.height-o)/2}),W(this.image,D({width:i.width,height:i.height},Ht(D({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,l=Number(e.autoCropArea)||.8,o={width:a.width,height:a.height};i&&(a.height*i>a.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*l),o.height=Math.max(o.minHeight,o.height*l),o.left=a.left+(a.width-o.width)/2,o.top=a.top+(a.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=D({},o)},limitCropBox:function(e,a){var i=this.options,l=this.containerData,o=this.canvasData,s=this.cropBoxData,d=this.limited,g=i.aspectRatio;if(e){var f=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,p=d?Math.min(l.width,o.width,o.width+o.left,l.width-o.left):l.width,u=d?Math.min(l.height,o.height,o.height+o.top,l.height-o.top):l.height;f=Math.min(f,l.width),h=Math.min(h,l.height),g&&(f&&h?h*g>f?h=f/g:f=h*g:f?h=f/g:h&&(f=h*g),u*g>p?u=p/g:p=u*g),s.minWidth=Math.min(f,p),s.minHeight=Math.min(h,u),s.maxWidth=p,s.maxHeight=u}a&&(d?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(l.width,o.left+o.width)-s.width,s.maxTop=Math.min(l.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=l.width-s.width,s.maxTop=l.height-s.height))},renderCropBox:function(){var e=this.options,a=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&K(this.face,bt,i.width>=a.width&&i.height>=a.height?"move":"all"),W(this.cropBox,D({width:i.width,height:i.height},Ht({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),b(this.element,Ot,this.getData())}},Ge={initPreview:function(){var e=this.element,a=this.crossOrigin,i=this.options.preview,l=a?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(a&&(s.crossOrigin=a),s.src=l,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,i){var d=i;"string"==typeof i?d=e.ownerDocument.querySelectorAll(i):i.querySelector&&(d=[i]),this.previews=d,q(d,function(g){var f=document.createElement("img");K(g,Mt,{width:g.offsetWidth,height:g.offsetHeight,html:g.innerHTML}),a&&(f.crossOrigin=a),f.src=l,f.alt=o,f.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',g.innerHTML="",g.appendChild(f)})}},resetPreview:function(){q(this.previews,function(e){var a=Ft(e,Mt);W(e,{width:a.width,height:a.height}),e.innerHTML=a.html,function Et(r,e){if(rt(r[e]))try{delete r[e]}catch{r[e]=void 0}else if(r.dataset)try{delete r.dataset[e]}catch{r.dataset[e]=void 0}else r.removeAttribute("data-".concat(mt(e)))}(e,Mt)})},preview:function(){var e=this.imageData,a=this.canvasData,i=this.cropBoxData,l=i.width,o=i.height,s=e.width,d=e.height,g=i.left-a.left-e.left,f=i.top-a.top-e.top;!this.cropped||this.disabled||(W(this.viewBoxImage,D({width:s,height:d},Ht(D({translateX:-g,translateY:-f},e)))),q(this.previews,function(h){var p=Ft(h,Mt),u=p.width,Z=p.height,T=u,E=Z,y=1;l&&(E=o*(y=u/l)),o&&E>Z&&(T=l*(y=Z/o),E=Z),W(h,{width:T,height:E}),W(h.getElementsByTagName("img")[0],D({width:s*y,height:d*y},Ht(D({translateX:-g*y,translateY:-f*y},e))))}))}},We={bind:function(){var e=this.element,a=this.options,i=this.cropper;Y(a.cropstart)&&v(e,Rt,a.cropstart),Y(a.cropmove)&&v(e,Yt,a.cropmove),Y(a.cropend)&&v(e,St,a.cropend),Y(a.crop)&&v(e,Ot,a.crop),Y(a.zoom)&&v(e,Jt,a.zoom),v(i,V,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&v(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&v(i,$t,this.onDblclick=this.dblclick.bind(this)),v(e.ownerDocument,ct,this.onCropMove=this.cropMove.bind(this)),v(e.ownerDocument,te,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&v(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,i=this.cropper;Y(a.cropstart)&&n(e,Rt,a.cropstart),Y(a.cropmove)&&n(e,Yt,a.cropmove),Y(a.cropend)&&n(e,St,a.cropend),Y(a.crop)&&n(e,Ot,a.crop),Y(a.zoom)&&n(e,Jt,a.zoom),n(i,V,this.onCropStart),a.zoomable&&a.zoomOnWheel&&n(i,"wheel",this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&n(i,$t,this.onDblclick),n(e.ownerDocument,ct,this.onCropMove),n(e.ownerDocument,te,this.onCropEnd),a.responsive&&n(window,"resize",this.onResize)}},Ke={resize:function(){if(!this.disabled){var d,g,e=this.options,a=this.container,i=this.containerData,l=a.offsetWidth/i.width,o=a.offsetHeight/i.height,s=Math.abs(l-1)>Math.abs(o-1)?l:o;1!==s&&(e.restore&&(d=this.getCanvasData(),g=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(q(d,function(f,h){d[h]=f*s})),this.setCropBoxData(q(g,function(f,h){g[h]=f*s}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function Ce(r,e){return r.classList?r.classList.contains(e):r.className.indexOf(e)>-1}(this.dragBox,Lt)?"move":Pt)},wheel:function(e){var a=this,i=Number(this.options.wheelZoomRatio)||.1,l=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?l=e.deltaY>0?1:-1:e.wheelDelta?l=-e.wheelDelta/120:e.detail&&(l=e.detail>0?1:-1),this.zoom(-l*i,e)))},cropStart:function(e){var a=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(w(a)&&1!==a||w(i)&&0!==i||e.ctrlKey))){var s,l=this.options,o=this.pointers;e.changedTouches?q(e.changedTouches,function(d){o[d.identifier]=se(d)}):o[e.pointerId||0]=se(e),s=Object.keys(o).length>1&&l.zoomable&&l.zoomOnTouch?"zoom":Ft(e.target,bt),ve.test(s)&&!1!==b(this.element,Rt,{originalEvent:e,action:s})&&(e.preventDefault(),this.action=s,this.cropping=!1,"crop"===s&&(this.cropping=!0,N(this.dragBox,Dt)))}},cropMove:function(e){var a=this.action;if(!this.disabled&&a){var i=this.pointers;e.preventDefault(),!1!==b(this.element,Yt,{originalEvent:e,action:a})&&(e.changedTouches?q(e.changedTouches,function(l){D(i[l.identifier]||{},se(l,!0))}):D(i[e.pointerId||0]||{},se(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,i=this.pointers;e.changedTouches?q(e.changedTouches,function(l){delete i[l.identifier]}):delete i[e.pointerId||0],a&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,pt(this.dragBox,Dt,this.cropped&&this.options.modal)),b(this.element,St,{originalEvent:e,action:a}))}}},$e={change:function(e){var ot,i=this.canvasData,l=this.containerData,o=this.cropBoxData,s=this.pointers,d=this.action,g=this.options.aspectRatio,f=o.left,h=o.top,p=o.width,u=o.height,Z=f+p,T=h+u,E=0,y=0,L=l.width,P=l.height,U=!0;!g&&e.shiftKey&&(g=p&&u?p/u:1),this.limited&&(y=o.minTop,L=(E=o.minLeft)+Math.min(l.width,i.width,i.left+i.width),P=y+Math.min(l.height,i.height,i.top+i.height));var j=s[Object.keys(s)[0]],_={x:j.endX-j.startX,y:j.endY-j.startY},C=function(H){switch(H){case"e":Z+_.x>L&&(_.x=L-Z);break;case"w":f+_.x<E&&(_.x=E-f);break;case z:h+_.y<y&&(_.y=y-h);break;case"s":T+_.y>P&&(_.y=P-T)}};switch(d){case"all":f+=_.x,h+=_.y;break;case"e":if(_.x>=0&&(Z>=L||g&&(h<=y||T>=P))){U=!1;break}C("e"),(p+=_.x)<0&&(d="w",f-=p=-p),g&&(h+=(o.height-(u=p/g))/2);break;case z:if(_.y<=0&&(h<=y||g&&(f<=E||Z>=L))){U=!1;break}C(z),h+=_.y,(u-=_.y)<0&&(d="s",h-=u=-u),g&&(f+=(o.width-(p=u*g))/2);break;case"w":if(_.x<=0&&(f<=E||g&&(h<=y||T>=P))){U=!1;break}C("w"),f+=_.x,(p-=_.x)<0&&(d="e",f-=p=-p),g&&(h+=(o.height-(u=p/g))/2);break;case"s":if(_.y>=0&&(T>=P||g&&(f<=E||Z>=L))){U=!1;break}C("s"),(u+=_.y)<0&&(d=z,h-=u=-u),g&&(f+=(o.width-(p=u*g))/2);break;case gt:if(g){if(_.y<=0&&(h<=y||Z>=L)){U=!1;break}C(z),h+=_.y,p=(u-=_.y)*g}else C(z),C("e"),_.x>=0?Z<L?p+=_.x:_.y<=0&&h<=y&&(U=!1):p+=_.x,_.y<=0?h>y&&(u-=_.y,h+=_.y):(u-=_.y,h+=_.y);p<0&&u<0?(d=xt,h-=u=-u,f-=p=-p):p<0?(d=_t,f-=p=-p):u<0&&(d=vt,h-=u=-u);break;case _t:if(g){if(_.y<=0&&(h<=y||f<=E)){U=!1;break}C(z),h+=_.y,f+=o.width-(p=(u-=_.y)*g)}else C(z),C("w"),_.x<=0?f>E?(p-=_.x,f+=_.x):_.y<=0&&h<=y&&(U=!1):(p-=_.x,f+=_.x),_.y<=0?h>y&&(u-=_.y,h+=_.y):(u-=_.y,h+=_.y);p<0&&u<0?(d=vt,h-=u=-u,f-=p=-p):p<0?(d=gt,f-=p=-p):u<0&&(d=xt,h-=u=-u);break;case xt:if(g){if(_.x<=0&&(f<=E||T>=P)){U=!1;break}C("w"),f+=_.x,u=(p-=_.x)/g}else C("s"),C("w"),_.x<=0?f>E?(p-=_.x,f+=_.x):_.y>=0&&T>=P&&(U=!1):(p-=_.x,f+=_.x),_.y>=0?T<P&&(u+=_.y):u+=_.y;p<0&&u<0?(d=gt,h-=u=-u,f-=p=-p):p<0?(d=vt,f-=p=-p):u<0&&(d=_t,h-=u=-u);break;case vt:if(g){if(_.x>=0&&(Z>=L||T>=P)){U=!1;break}C("e"),u=(p+=_.x)/g}else C("s"),C("e"),_.x>=0?Z<L?p+=_.x:_.y>=0&&T>=P&&(U=!1):p+=_.x,_.y>=0?T<P&&(u+=_.y):u+=_.y;p<0&&u<0?(d=_t,h-=u=-u,f-=p=-p):p<0?(d=xt,f-=p=-p):u<0&&(d=gt,h-=u=-u);break;case"move":this.move(_.x,_.y),U=!1;break;case"zoom":this.zoom(function Ye(r){var e=A({},r),a=0;return q(r,function(i,l){delete e[l],q(e,function(o){var s=Math.abs(i.startX-o.startX),d=Math.abs(i.startY-o.startY),g=Math.abs(i.endX-o.endX),f=Math.abs(i.endY-o.endY),h=Math.sqrt(s*s+d*d),u=(Math.sqrt(g*g+f*f)-h)/h;Math.abs(u)>Math.abs(a)&&(a=u)})}),a}(s),e),U=!1;break;case"crop":if(!_.x||!_.y){U=!1;break}ot=I(this.cropper),f=j.startX-ot.left,h=j.startY-ot.top,p=o.minWidth,u=o.minHeight,_.x>0?d=_.y>0?vt:gt:_.x<0&&(f-=p,d=_.y>0?xt:_t),_.y<0&&(h-=u),this.cropped||(Q(this.cropBox,S),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}U&&(o.width=p,o.height=u,o.left=f,o.top=h,this.action=d,this.renderCropBox()),q(s,function(k){k.startX=k.endX,k.startY=k.endY})}},ti={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&N(this.dragBox,Dt),Q(this.cropBox,S),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=D({},this.initialImageData),this.canvasData=D({},this.initialCanvasData),this.cropBoxData=D({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(D(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Q(this.dragBox,Dt),N(this.cropBox,S)),this},replace:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,q(this.previews,function(i){i.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Q(this.cropper,Vt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,N(this.cropper,Vt)),this},destroy:function(){var e=this.element;return e[M]?(e[M]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,l=i.left,o=i.top;return this.moveTo(at(e)?e:l+Number(e),at(a)?a:o+Number(a))},moveTo:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,l=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(w(e)&&(i.left=e,l=!0),w(a)&&(i.top=a,l=!0),l&&this.renderCanvas(!0)),this},zoom:function(e,a){var i=this.canvasData;return e=Number(e),this.zoomTo(i.width*(e=e<0?1/(1-e):1+e)/i.naturalWidth,null,a)},zoomTo:function(e,a,i){var l=this.options,o=this.canvasData,s=o.width,d=o.height,g=o.naturalWidth,f=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&l.zoomable){var h=g*e,p=f*e;if(!1===b(this.element,Jt,{ratio:e,oldRatio:s/g,originalEvent:i}))return this;if(i){var u=this.pointers,Z=I(this.cropper),T=u&&Object.keys(u).length?function Re(r){var e=0,a=0,i=0;return q(r,function(l){e+=l.startX,a+=l.startY,i+=1}),{pageX:e/=i,pageY:a/=i}}(u):{pageX:i.pageX,pageY:i.pageY};o.left-=(T.pageX-Z.left-o.left)/s*(h-s),o.top-=(T.pageY-Z.top-o.top)/d*(p-d)}else dt(a)&&w(a.x)&&w(a.y)?(o.left-=(a.x-o.left)/s*(h-s),o.top-=(a.y-o.top)/d*(p-d)):(o.left-=(h-s)/2,o.top-=(p-d)/2);o.width=h,o.height=p,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return w(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,w(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(w(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,l=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(w(e)&&(i.scaleX=e,l=!0),w(a)&&(i.scaleY=a,l=!0),l&&this.renderCanvas(!0,!0)),this},getData:function(){var s,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,i=this.imageData,l=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){var d=i.width/i.naturalWidth;if(q(s={x:o.left-l.left,y:o.top-l.top,width:o.width,height:o.height},function(h,p){s[p]=h/d}),e){var g=Math.round(s.y+s.height),f=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=f-s.x,s.height=g-s.y}}else s={x:0,y:0,width:0,height:0};return a.rotatable&&(s.rotate=i.rotate||0),a.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(e){var a=this.options,i=this.imageData,l=this.canvasData,o={};if(this.ready&&!this.disabled&&dt(e)){var s=!1;a.rotatable&&w(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,s=!0),a.scalable&&(w(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),w(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var d=i.width/i.naturalWidth;w(e.x)&&(o.left=e.x*d+l.left),w(e.y)&&(o.top=e.y*d+l.top),w(e.width)&&(o.width=e.width*d),w(e.height)&&(o.height=e.height*d),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?D({},this.containerData):{}},getImageData:function(){return this.sized?D({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&q(["left","top","width","height","naturalWidth","naturalHeight"],function(i){a[i]=e[i]}),a},setCanvasData:function(e){var a=this.canvasData,i=a.aspectRatio;return this.ready&&!this.disabled&&dt(e)&&(w(e.left)&&(a.left=e.left),w(e.top)&&(a.top=e.top),w(e.width)?(a.width=e.width,a.height=e.width/i):w(e.height)&&(a.height=e.height,a.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var a,e=this.cropBoxData;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var l,o,a=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&dt(e)&&(w(e.left)&&(a.left=e.left),w(e.top)&&(a.top=e.top),w(e.width)&&e.width!==a.width&&(l=!0,a.width=e.width),w(e.height)&&e.height!==a.height&&(o=!0,a.height=e.height),i&&(l?a.height=a.width/i:o&&(a.width=a.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,i=je(this.image,this.imageData,a,e);if(!this.cropped)return i;var l=this.getData(),o=l.x,s=l.y,d=l.width,g=l.height,f=i.width/Math.floor(a.naturalWidth);1!==f&&(o*=f,s*=f,d*=f,g*=f);var h=d/g,p=ft({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=ft({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),Z=ft({aspectRatio:h,width:e.width||(1!==f?i.width:d),height:e.height||(1!==f?i.height:g)}),T=Z.width,E=Z.height;T=Math.min(p.width,Math.max(u.width,T)),E=Math.min(p.height,Math.max(u.height,E));var y=document.createElement("canvas"),L=y.getContext("2d");y.width=ht(T),y.height=ht(E),L.fillStyle=e.fillColor||"transparent",L.fillRect(0,0,T,E);var P=e.imageSmoothingEnabled,ot=e.imageSmoothingQuality;L.imageSmoothingEnabled=void 0===P||P,ot&&(L.imageSmoothingQuality=ot);var H,nt,Tt,Zt,ut,$,j=i.width,_=i.height,C=o,k=s;C<=-d||C>j?(C=0,H=0,Tt=0,ut=0):C<=0?(Tt=-C,C=0,ut=H=Math.min(j,d+C)):C<=j&&(Tt=0,ut=H=Math.min(d,j-C)),H<=0||k<=-g||k>_?(k=0,nt=0,Zt=0,$=0):k<=0?(Zt=-k,k=0,$=nt=Math.min(_,g+k)):k<=_&&(Zt=0,$=nt=Math.min(g,_-k));var R=[C,k,H,nt];if(ut>0&&$>0){var At=T/d;R.push(Tt*At,Zt*At,ut*At,$*At)}return L.drawImage.apply(L,[i].concat(t(R.map(function(le){return Math.floor(ht(le))})))),y},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!at(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,i=this.dragBox,l=this.face;if(this.ready&&!this.disabled){var o=e===Pt,s=a.movable&&"move"===e;a.dragMode=e=o||s?e:"none",K(i,bt,e),pt(i,Lt,o),pt(i,kt,s),a.cropBoxMovable||(K(l,bt,e),pt(l,Lt,o),pt(l,kt,s))}return this}},ei=F.Cropper,Le=function(){function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ce(this,r),!e||!we.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=D({},J,dt(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function X(r,e,a){return e&&B(r.prototype,e),a&&B(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(r,[{key:"init",value:function(){var l,a=this.element,i=a.tagName.toLowerCase();if(!a[M]){if(a[M]=this,"img"===i){if(this.isImg=!0,l=a.getAttribute("src")||"",this.originalUrl=l,!l)return;l=a.src}else"canvas"===i&&window.HTMLCanvasElement&&(l=a.toDataURL());this.load(l)}}},{key:"load",value:function(a){var i=this;if(a){this.url=a,this.imageData={};var l=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer)return void this.clone();if(xe.test(a))return void(be.test(a)?this.read(function He(r){var e=r.replace(Qe,""),a=atob(e),i=new ArrayBuffer(a.length),l=new Uint8Array(i);return q(l,function(o,s){l[s]=a.charCodeAt(s)}),i}(a)):this.clone());var s=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=d,s.onerror=d,s.ontimeout=d,s.onprogress=function(){s.getResponseHeader("content-type")!==ae&&s.abort()},s.onload=function(){i.read(s.response)},s.onloadend=function(){i.reloading=!1,i.xhr=null},o.checkCrossOrigin&&Ne(a)&&l.crossOrigin&&(a=Ie(a)),s.open("GET",a,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===l.crossOrigin,s.send()}}},{key:"read",value:function(a){var i=this.options,l=this.imageData,o=Xe(a),s=0,d=1,g=1;if(o>1){this.url=function Be(r,e){for(var a=[],l=new Uint8Array(r);l.length>0;)a.push(Ue.apply(null,ne(l.subarray(0,8192)))),l=l.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}(a,ae);var f=function ze(r){var e=0,a=1,i=1;switch(r){case 2:a=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90}return{rotate:e,scaleX:a,scaleY:i}}(o);s=f.rotate,d=f.scaleX,g=f.scaleY}i.rotatable&&(l.rotate=s),i.scalable&&(l.scaleX=d,l.scaleY=g),this.clone()}},{key:"clone",value:function(){var a=this.element,i=this.url,l=a.crossOrigin,o=i;this.options.checkCrossOrigin&&Ne(i)&&(l||(l="anonymous"),o=Ie(i)),this.crossOrigin=l,this.crossOriginUrl=o;var s=document.createElement("img");l&&(s.crossOrigin=l),s.src=o||i,s.alt=a.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),N(s,Gt),a.parentNode.insertBefore(s,a.nextSibling)}},{key:"start",value:function(){var a=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var l=F.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(F.navigator.userAgent),o=function(f,h){D(a.imageData,{naturalWidth:f,naturalHeight:h,aspectRatio:f/h}),a.initialImageData=D({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(!i.naturalWidth||l){var s=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){o(s.width,s.height),l||d.removeChild(s)},s.src=i.src,l||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(s))}else o(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var a=this.element,i=this.options,l=this.image,o=a.parentNode,s=document.createElement("div");s.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var d=s.querySelector(".".concat(M,"-container")),g=d.querySelector(".".concat(M,"-canvas")),f=d.querySelector(".".concat(M,"-drag-box")),h=d.querySelector(".".concat(M,"-crop-box")),p=h.querySelector(".".concat(M,"-face"));this.container=o,this.cropper=d,this.canvas=g,this.dragBox=f,this.cropBox=h,this.viewBox=d.querySelector(".".concat(M,"-view-box")),this.face=p,g.appendChild(l),N(a,S),o.insertBefore(d,a.nextSibling),Q(l,Gt),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,N(h,S),i.guides||N(h.getElementsByClassName("".concat(M,"-dashed")),S),i.center||N(h.getElementsByClassName("".concat(M,"-center")),S),i.background&&N(d,"".concat(M,"-bg")),i.highlight||N(p,fe),i.cropBoxMovable&&(N(p,kt),K(p,bt,"all")),i.cropBoxResizable||(N(h.getElementsByClassName("".concat(M,"-line")),S),N(h.getElementsByClassName("".concat(M,"-point")),S)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),Y(i.ready)&&v(a,"ready",i.ready,{once:!0}),b(a,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),Q(this.element,S)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ei,r}},{key:"setDefaults",value:function(a){D(J,dt(a)&&a)}}]),r}();return D(Le.prototype,Ve,Ge,We,Ke,$e,ti),Le}()}}]);