(self.webpackChunkmeetings_manager=self.webpackChunkmeetings_manager||[]).push([[630],{7630:(Me,Dt,A)=>{"use strict";A.r(Dt),A.d(Dt,{GeneralModule:()=>K});var It=A(4466),de=A(6916),X=A(6895),z=A(3022),b=A(4006),t=A(4650),he=A(7274),pe=A(7009),me=A(2553),Ut=A(9523),fe=A(4763),Mt=A.n(fe);const F=["image"];class st{constructor(){this.croppedImg=new t.vpe,this.imageDestination=""}ngAfterViewInit(){this.cropper=new(Mt())(this.imageElement.nativeElement,{zoomable:!1,scalable:!1,aspectRatio:1,crop:()=>{const m=this.cropper.getCroppedCanvas();this.imageDestination=m.toDataURL("image/png"),this.croppedImg.emit(this.imageDestination)}})}ngOnInit(){}static#t=this.\u0275fac=function(l){return new(l||st)};static#e=this.\u0275cmp=t.Xpm({type:st,selectors:[["app-image-cropper"]],viewQuery:function(l,v){if(1&l&&t.Gf(F,5),2&l){let x;t.iGM(x=t.CRH())&&(v.imageElement=x.first)}},inputs:{imageSource:["src","imageSource"]},outputs:{croppedImg:"croppedImg"},decls:5,vars:2,consts:[[1,"img-container"],["crossorigin","",3,"src"],["image",""],["id","preview-img",1,"img-preview",3,"src"],["preview",""]],template:function(l,v){1&l&&(t.TgZ(0,"div",0),t._UZ(1,"img",1,2),t.qZA(),t._UZ(3,"img",3,4)),2&l&&(t.xp6(1),t.Q6J("src",v.imageSource,t.LSH),t.xp6(2),t.Q6J("src",v.imageDestination,t.LSH))},styles:[".img-container[_ngcontent-%COMP%]{width:640px;height:480px;float:left}.img-preview[_ngcontent-%COMP%]{width:200px;height:200px;float:left;margin-left:10px}"]})}var kt=A(7288),y=A(6188);const Lt=["cropper"],zt=["preview"];function Vt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Gt(c,m){1&c&&t._UZ(0,"span",75)}function tt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Vt,3,3,"span",74),t.YNc(2,Gt,1,0,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("name_ar").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.profile_form.get("name_ar").hasError("pattern"))}}function et(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function lt(c,m){1&c&&t._UZ(0,"span",75)}function V(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,et,3,3,"span",74),t.YNc(2,lt,1,0,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("name_en").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.profile_form.get("name_en").hasError("pattern"))}}function gt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function _t(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,gt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("birth_date").hasError("required"))}}function vt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function xt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.this_element_contains_9_numbers")," "))}function Pt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,vt,3,3,"span",74),t.YNc(2,xt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("mobile").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.profile_form.get("mobile").hasError("pattern"))}}function Wt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function O(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Wt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("gender").hasError("required"))}}function Kt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function ue(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Kt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("linkedin_link").hasError("required"))}}function qt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Ot(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,qt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.profile_form.get("twitter_link").hasError("required"))}}function bt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Et(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,bt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.account_form.get("username").hasError("required"))}}function St(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function $t(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.emailFormat")," "))}function te(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,St,3,3,"span",74),t._UZ(2,"br"),t.YNc(3,$t,3,3,"span",74),t._UZ(4,"br"),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.account_form.get("email").hasError("required")),t.xp6(2),t.Q6J("ngIf",l.account_form.get("email").hasError("email"))}}function Yt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function Rt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Yt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.password_form.get("old_password").hasError("required"))}}function Jt(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function jt(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,Jt,3,3,"span",74),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.password_form.get("password").hasError("required"))}}function ee(c,m){1&c&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"meeting_manager.this_item_is_required")," "))}function ge(c,m){1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.password_does_not_match")," "))}function _e(c,m){if(1&c&&(t.TgZ(0,"span"),t.YNc(1,ee,3,3,"span",74),t.YNc(2,ge,3,3,"span",38),t.qZA()),2&c){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",l.password_form.get("password_confirmation").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.password_form.get("password_confirmation").hasError("wrongPassword"))}}const it=function(c){return{"is-invalid border-danger":c}},ct=function(c){return{"is-invalid border border-danger":c}};function ie(c,m){if(1&c){const l=t.EpF();t.ynx(0),t.TgZ(1,"ul",4)(2,"li",5)(3,"a",6),t._UZ(4,"i",7),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"li",5)(9,"a",9),t._UZ(10,"i",10),t.TgZ(11,"span",8),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"li",5)(15,"a",11),t._UZ(16,"i",12),t.TgZ(17,"span",8),t._uU(18),t.ALo(19,"translate"),t.qZA()()()(),t.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"form",18),t.NdJ("ngSubmit",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.submitProfileFormHandler())}),t.TgZ(26,"div",19)(27,"label",20),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",21)(31,"div",22),t._UZ(32,"img",23),t.TgZ(33,"div",24)(34,"div",25),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"input",26),t.NdJ("change",function(x){t.CHM(l);const E=t.oxw();return t.KtG(E.handleUpload(x))}),t.qZA()()()()(),t.TgZ(38,"div",19)(39,"label",20),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",21)(43,"div",27)(44,"div",28)(45,"button",29),t._UZ(46,"img",30),t.qZA(),t.TgZ(47,"div",31)(48,"a",32),t.NdJ("click",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.changeCurrentLang("en","assets/img/united-states-flag.svg"))}),t._UZ(49,"img",33),t._uU(50," \u0627\u0644\u0623\u0646\u062c\u0644\u064a\u0632\u064a\u0629 "),t.qZA(),t.TgZ(51,"a",34),t.NdJ("click",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.changeCurrentLang("ar","assets/img/saudi-arabia-flag.svg"))}),t._UZ(52,"img",35),t._uU(53," \u0627\u0644\u0639\u0631\u0628\u064a\u0629 "),t.qZA()()()()()(),t.TgZ(54,"div",19)(55,"label",20),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",36),t._UZ(59,"input",37),t.ALo(60,"translate"),t.YNc(61,tt,3,2,"span",38),t.qZA()(),t.TgZ(62,"div",19)(63,"label",20),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",36),t._UZ(67,"input",39),t.ALo(68,"translate"),t.YNc(69,V,3,2,"span",38),t.qZA()(),t.TgZ(70,"div",19)(71,"label",20),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"div",36),t._UZ(75,"input",40),t.ALo(76,"translate"),t.YNc(77,_t,2,1,"span",38),t.qZA()(),t.TgZ(78,"div",19)(79,"label",20),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"div",36),t._UZ(83,"input",41),t.ALo(84,"translate"),t.YNc(85,Pt,3,2,"span",38),t.qZA()(),t.TgZ(86,"div",19)(87,"label",20),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"div",36)(91,"select",42)(92,"option",43),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"option",44),t._uU(96),t.ALo(97,"translate"),t.qZA()(),t.YNc(98,O,2,1,"span",38),t.qZA()(),t.TgZ(99,"div",19)(100,"label",20),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"div",36)(104,"div",45)(105,"div",46)(106,"span",47),t._UZ(107,"i",48),t.qZA()(),t._UZ(108,"input",49),t.ALo(109,"translate"),t.qZA(),t.YNc(110,ue,2,1,"span",38),t.qZA()(),t.TgZ(111,"div",19)(112,"label",20),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"div",36)(116,"div",45)(117,"div",46)(118,"span",47),t._UZ(119,"i",50),t.qZA()(),t._UZ(120,"input",51),t.ALo(121,"translate"),t.qZA(),t.YNc(122,Ot,2,1,"span",38),t.qZA()(),t.TgZ(123,"div",52)(124,"div",53)(125,"button",54),t._uU(126),t.ALo(127,"translate"),t.qZA()()()()()()()(),t.TgZ(128,"div",55)(129,"div",15)(130,"div",17)(131,"form",56),t.NdJ("ngSubmit",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.submitAccountFormHandler())}),t.TgZ(132,"div",19)(133,"label",57),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",58),t._UZ(137,"input",59),t.ALo(138,"translate"),t.YNc(139,Et,2,1,"span",38),t.qZA()(),t.TgZ(140,"div",19)(141,"label",57),t._uU(142),t.ALo(143,"translate"),t.qZA(),t.TgZ(144,"div",58)(145,"div",45)(146,"div",46)(147,"span",47),t._UZ(148,"i",60),t.qZA()(),t._UZ(149,"input",61),t.ALo(150,"translate"),t.qZA(),t.YNc(151,te,5,2,"span",38),t.qZA()(),t.TgZ(152,"div",52)(153,"div",53)(154,"button",62),t._uU(155),t.ALo(156,"translate"),t.qZA()()()()()()(),t.TgZ(157,"div",63)(158,"div",15)(159,"div",64)(160,"form",65),t.NdJ("ngSubmit",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.submitPasswordForm())}),t.TgZ(161,"div",17)(162,"div",19)(163,"label",66),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"div",67),t._UZ(167,"input",68),t.YNc(168,Rt,2,1,"span",38),t.qZA()(),t.TgZ(169,"div",19)(170,"label",66),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"div",67)(174,"div",45),t._UZ(175,"input",69),t.TgZ(176,"div",70)(177,"span",71),t._UZ(178,"i",72),t.qZA()()(),t.YNc(179,jt,2,1,"span",38),t.qZA()(),t.TgZ(180,"div",19)(181,"label",66),t._uU(182),t.ALo(183,"translate"),t.qZA(),t.TgZ(184,"div",67),t._UZ(185,"input",73),t.YNc(186,_e,3,2,"span",38),t.qZA()(),t.TgZ(187,"div",52)(188,"div",53)(189,"button",62),t._uU(190),t.ALo(191,"translate"),t.qZA()()()()()()()()(),t.BQk()}if(2&c){const l=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,60,"adminstration.profile")," "),t.xp6(6),t.hij(" ",t.lcZ(13,62,"adminstration.accountData")," "),t.xp6(6),t.hij(" ",t.lcZ(19,64,"adminstration.changePassword")," "),t.xp6(7),t.Q6J("formGroup",l.profile_form),t.xp6(3),t.hij(" ",t.lcZ(29,66,"adminstration.profile_img")," "),t.xp6(4),t.Q6J("src",l.currentUser.avatarURL,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(36,68,"adminstration.ClickToChangeImage")," "),t.xp6(5),t.hij(" ",t.lcZ(41,70,"adminstration.favouriteLang")," "),t.xp6(6),t.Q6J("src",l.selectedLn,t.LSH),t.xp6(10),t.hij(" ",t.lcZ(57,72,"adminstration.fullNameAr")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(60,74,"adminstration.fullNameAr")),t.Q6J("ngClass",t.VKq(122,it,l.inValidProfileForm&&l.profile_form.get("name_ar").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("name_ar").invalid&&l.profile_form.get("name_ar").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(65,76,"adminstration.fullNameEn")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(68,78,"adminstration.fullNameEn")),t.Q6J("ngClass",t.VKq(124,it,l.inValidProfileForm&&l.profile_form.get("name_en").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("name_en").invalid&&l.profile_form.get("name_en").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(73,80,"adminstration.dateOfBirth")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(76,82,"adminstration.dateOfBirth")),t.Q6J("ngClass",t.VKq(126,it,l.inValidProfileForm&&l.profile_form.get("birth_date").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("birth_date").invalid&&l.profile_form.get("birth_date").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(81,84,"adminstration.MOBILE")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(84,86,"adminstration.MOBILE")),t.Q6J("ngClass",t.VKq(128,it,l.inValidProfileForm&&l.profile_form.get("mobile").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("mobile").invalid&&l.profile_form.get("mobile").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(89,88,"adminstration.Gender")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(130,it,l.inValidProfileForm&&l.profile_form.get("gender").hasError("required"))),t.xp6(2),t.hij(" ",t.lcZ(94,90,"adminstration.male")," "),t.xp6(3),t.hij(" ",t.lcZ(97,92,"adminstration.female")," "),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("gender").invalid&&l.profile_form.get("gender").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(102,94,"adminstration.linkedInLink")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(109,96,"adminstration.linkedInLink")),t.Q6J("ngClass",t.VKq(132,ct,l.inValidProfileForm&&l.profile_form.get("linkedin_link").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("linkedin_link").invalid&&l.profile_form.get("linkedin_link").touched||l.inValidProfileForm),t.xp6(3),t.hij(" ",t.lcZ(114,98,"adminstration.twitterLink")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(121,100,"adminstration.twitterLink")),t.Q6J("ngClass",t.VKq(134,ct,l.inValidProfileForm&&l.profile_form.get("twitter_link").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.profile_form.get("twitter_link").invalid&&l.profile_form.get("twitter_link").touched||l.inValidProfileForm),t.xp6(4),t.hij(" ",t.lcZ(127,102,"adminstration.save")," "),t.xp6(5),t.Q6J("formGroup",l.account_form),t.xp6(3),t.hij(" ",t.lcZ(135,104,"adminstration.userName")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(138,106,"adminstration.userName")),t.Q6J("ngClass",t.VKq(136,ct,l.invalidAccount_form&&l.account_form.get("username").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.account_form.get("username").invalid&&l.account_form.get("username").touched||l.invalidAccount_form),t.xp6(3),t.hij(" ",t.lcZ(143,108,"adminstration.EMAIL")," "),t.xp6(7),t.MGl("placeholder"," ",t.lcZ(150,110,"adminstration.EMAIL"),""),t.Q6J("ngClass",t.VKq(138,ct,l.invalidAccount_form&&l.account_form.get("email").hasError("required"))),t.xp6(2),t.Q6J("ngIf",l.account_form.get("email").invalid&&l.account_form.get("email").touched||l.invalidAccount_form),t.xp6(4),t.hij(" ",t.lcZ(156,112,"adminstration.save")," "),t.xp6(5),t.Q6J("formGroup",l.password_form),t.xp6(4),t.hij(" ",t.lcZ(165,114,"adminstration.currentPassword")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(140,it,l.password_form.get("old_password").hasError("required")&&l.invalidPassword_form)),t.xp6(1),t.Q6J("ngIf",l.password_form.get("old_password").invalid&&l.password_form.get("old_password").touched||l.invalidPassword_form),t.xp6(3),t.hij(" ",t.lcZ(172,116,"adminstration.newPassword")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(142,ct,l.invalidPassword_form&&l.password_form.get("password").hasError("required"))),t.xp6(4),t.Q6J("ngIf",l.password_form.get("password").invalid&&l.password_form.get("password").touched||l.invalidPassword_form),t.xp6(3),t.hij(" ",t.lcZ(183,118,"adminstration.confirmPassword")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(144,it,l.password_form.get("password_confirmation").hasError("required")&&l.invalidPassword_form)),t.xp6(1),t.Q6J("ngIf",l.password_form.get("password_confirmation").invalid&&l.password_form.get("password_confirmation").touched||l.invalidPassword_form),t.xp6(4),t.hij(" ",t.lcZ(191,120,"adminstration.save")," ")}}function ae(c,m){1&c&&t._UZ(0,"app-loading")}function re(c,m){if(1&c){const l=t.EpF();t.TgZ(0,"div",76)(1,"div",77)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",77)(6,"app-image-cropper",78),t.NdJ("croppedImg",function(x){t.CHM(l);const E=t.oxw();return t.KtG(E.profilePicHandler(x))}),t.qZA()(),t.TgZ(7,"div",79)(8,"button",80),t.NdJ("click",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.closeDialog())}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",81),t.NdJ("click",function(){t.CHM(l);const x=t.oxw();return t.KtG(x.closeDialog())}),t._uU(12),t.ALo(13,"translate"),t.qZA()()()}if(2&c){const l=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"adminstration.CropImage")," "),t.xp6(3),t.Q6J("src",l.imgsrc),t.xp6(3),t.hij(" ",t.lcZ(10,6,"adminstration.save")," "),t.xp6(3),t.hij(" ",t.lcZ(13,8,"adminstration.close")," ")}}class wt{constructor(m,l,v,x,E){this.matDialog=m,this.fb=l,this._snackBar=v,this.authService=x,this.userService=E,this.selectedLn=localStorage.getItem("selectedLn")||"assets/img/saudi-arabia-flag.svg",this.unsubscribe=[],this.currentUser=null,this.inValidProfileForm=!1,this.invalidAccount_form=!1,this.invalidPassword_form=!1}changeCurrentLang(m,l){}ngOnInit(){this.fetchCurrentUser()}fetchCurrentUser(){this.authService.currentUser$.subscribe(m=>{this.currentUser=m,this.InitProfileForm(),this.InitAccountData(),this.InitPasswordForm()})}openDialog(m){this.dir=localStorage.getItem("direction"),console.log(m),this.matDialog.open(m,{direction:this.dir?this.dir:"rtl"})}closeDialog(){this.matDialog.closeAll()}handleUpload(m){const l=m.target.files[0],v=new FileReader;v.readAsDataURL(l),v.onload=()=>{this.imgsrc=v.result,this.openDialog(this.cropper)}}profilePicHandler(m){console.log(m)}InitProfileForm(){this.profile_form=this.fb.group({name_ar:[this.currentUser?.name_ar,[b.kI.required,b.kI.pattern("")]],name_en:[this.currentUser?.name_en,[b.kI.required,b.kI.pattern("")]],birth_date:[this.currentUser?.birth_date,[b.kI.required]],mobile:[this.currentUser?.mobile,[b.kI.required,b.kI.pattern("[-+()0-9]+")]],gender:[1==this.currentUser?.gender?"male":"female",[b.kI.required]],linkedin_link:[this.currentUser?.linkedin_link],twitter_link:[this.currentUser?.twitter_link]})}submitProfileFormHandler(){if(this.profile_form.valid){const m=this.userService.updateProfile(this.profile_form.value).subscribe(l=>{this.authService.currentUserSubject.next(l.Data.user)});this.unsubscribe.push(m)}else this.inValidProfileForm=!0}InitAccountData(){this.account_form=this.fb.group({username:[this.currentUser?.username,[b.kI.required]],email:[this.currentUser?.email,[b.kI.required,b.kI.email,b.kI.pattern(".*com$")]]})}submitAccountFormHandler(){if(this.account_form.valid){const m=this.userService.updateAcountData(this.account_form.value).subscribe(l=>{this.authService.currentUserSubject.next(l.Data.user)});this.unsubscribe.push(m)}else this.invalidAccount_form=!0}InitPasswordForm(){this.password_form=this.fb.group({old_password:[this.currentUser?.password,[b.kI.required]],password:["",[b.kI.required]],password_confirmation:["",[b.kI.required]]})}submitPasswordForm(){if(this.password_form.valid){const m=this.userService.updatePassword(this.password_form.value).subscribe(l=>{});this.unsubscribe.push(m)}else this.invalidPassword_form=!0}openSnackBar(m,l){this._snackBar.open(m,l)}ngOnDestroy(){this.unsubscribe.forEach(m=>m.unsubscribe())}static#t=this.\u0275fac=function(l){return new(l||wt)(t.Y36(he.uw),t.Y36(b.qu),t.Y36(pe.ux),t.Y36(me.e),t.Y36(Ut.K))};static#e=this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-profile"]],viewQuery:function(l,v){if(1&l&&(t.Gf(Lt,7),t.Gf(zt,7)),2&l){let x;t.iGM(x=t.CRH())&&(v.cropper=x.first),t.iGM(x=t.CRH())&&(v.preview=x.first)}},decls:6,vars:2,consts:[[1,"container","p-5","bg-white"],[4,"ngIf","ngIfElse"],["loading",""],["cropper",""],["id","pills-tab","role","tablist",1,"nav","navi-bold","navi-hover","navi-active","navi-link-rounded","d-flex","flex-nowrap","mb-3","navs_container"],[1,"nav-item"],["id","pills-home-tab","data-toggle","pill","href","#pills-home","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","py-4","text-nowrap","active"],[1,"fas","fa-user","text-primary"],[1,"navi-text","font-size-lg","m-2"],["id","pills-profile-tab","data-toggle","pill","href","#pills-profile","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link","py-4","text-nowrap"],[1,"far","fa-address-card","text-primary"],["id","pills-contact-tab","data-toggle","pill","href","#pills-contact","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link","py-4","text-nowrap"],[1,"fas","fa-unlock-alt","text-primary"],["id","pills-tabContent",1,"tab-content","mt-3"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],[1,"card"],[1,"card-header","py-3"],[1,"card-body"],["id","profile-form","method","POST",1,"login-forms",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-xl-3","col-lg-3","col-form-label"],[1,"col-lg-9","col-xl-6"],["id","profile-image-uploader-container",1,"image-uploader-container"],["width","100%","height","100$","srcset","",3,"src"],[1,"overlay"],[1,"text-center","cursor-pointer","mt-5"],["type","file","name","image","id","upload_image_profileImage",1,"image",3,"change"],[1,"col-6"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","text-white","dropdown-toggle"],["width","20","height","20",3,"src"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","cursor-pointer"],[1,"dropdown-item",3,"click"],["with","20","height","20","src","assets/img/united-states-flag.svg",1,"mx-2"],[1,"dropdown-item","cursor-pointer",3,"click"],["with","20","height","20","src","assets/img/saudi-arabia-flag.svg",1,"mx-2"],[1,"col-lg-9","col-xl-9"],["id","name_ar","formControlName","name_ar","type","text",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[4,"ngIf"],["id","name_en","name","name_en","type","text","formControlName","name_en",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["type","date","id","birthdate","formControlName","birth_date",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],["type","text","id","phone","formControlName","mobile",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],["id","gender","name","gender","formControlName","gender",1,"form-control","form-control-lg","form-control-solid","pt-1",3,"ngClass"],["value","male"],["value","female"],[1,"input-group","input-group-lg","input-group-solid"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fab","fa-linkedin-in"],["id","facebook_link","type","text","formControlName","linkedin_link",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[1,"fab","fa-twitter"],["id","twitter_link","type","text","formControlName","twitter_link",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],[1,"form-group","row","justify-content-end"],[1,"card-toolbar","col-md-3"],["type","submit",1,"btn","btn-success","w-100"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],["method","POST",1,"form","repeater-default",3,"formGroup","ngSubmit"],[1,"col-lg-2","col-form-label"],[1,"col-md-10"],["id","username","formControlName","username","type","text",1,"form-control","form-control-lg","form-control-solid",3,"placeholder","ngClass"],[1,"fas","fa-at"],["id","email","formControlName","email","type","text",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["type","submit",1,"btn","btn-success","mr-2","w-100"],["id","pills-contact","role","tabpanel","aria-labelledby","pills-contact-tab",1,"tab-pane","fade"],["id","kt_repeater_1",1,"card-body"],["method","POST",1,"form",3,"formGroup","ngSubmit"],[1,"col-md-3","col-form-label","text-alert"],[1,"col-md-9"],["type","password","formControlName","old_password",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"ngClass"],["id","password","type","password","aria-describedby","basic-addon2","formControlName","password",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"ngClass"],[1,"input-group-append"],["id","passowrdGeneratorbutton",1,"input-group-text"],["aria-hidden","true",1,"fa","fa-cogs"],["type","password","id","password_confirmation","formControlName","password_confirmation",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"row"],[1,"col-md-12"],[3,"src","croppedImg"],[1,"d-flex","justify-content-end","mb-5","mx-3","mt-5","w-100"],[1,"btn","btn-light-primary",3,"click"],[1,"btn","btn-secondary","mx-4",3,"click"]],template:function(l,v){if(1&l&&(t.TgZ(0,"div",0),t.YNc(1,ie,192,146,"ng-container",1),t.YNc(2,ae,1,0,"ng-template",null,2,t.W1O),t.YNc(4,re,14,10,"ng-template",null,3,t.W1O),t.qZA()),2&l){const x=t.MAs(3);t.xp6(1),t.Q6J("ngIf",v.currentUser)("ngIfElse",x)}},dependencies:[X.mk,X.O5,st,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,kt.N,y.X$],styles:["#mobile{padding-left:90px;padding-right:1rem;top:0;left:0;right:0;height:100%;position:absolute}.iti__country-list{left:0}.ltr{direction:ltr}#profile-image-uploader-container{width:117px;position:relative}#preview_profileImage{overflow:hidden;width:160px!important;height:160px;margin:10px;border:1px solid red}.overlay{position:absolute;bottom:0;left:0;right:0;background-color:#ffffff80;overflow:hidden;height:80%;transition:.5s ease;width:100%;opacity:0}#upload_image_profileImage{position:absolute;top:0;left:-135px;bottom:1px;cursor:pointer;opacity:0}.image-uploader-container:hover .overlay{opacity:1}.mat-mdc-tab-body-wrapper,.mat-mdc-tab-label-container{z-index:0!important}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{z-index:0}.mat-mdc-tab-header{background-color:#fff;padding:10px}.active{background:#eef0f8;border-radius:7px}.navs_container{overflow:auto;width:auto}::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#9ac9f9}::-webkit-scrollbar-thumb:hover{background:#1560ac}.mat-mdc-button .mdc-button__label{z-index:1;background:transparent;border:1px solid white;color:#bebebe;padding:6px;border-radius:5px}\n"],encapsulation:2})}var oe=A(5136),ne=(A(2340),A(529)),ve=A(4889);class G extends oe.b{constructor(m,l){super(m,"General","ToDo",l)}static#t=this.\u0275fac=function(l){return new(l||G)(t.LFG(ne.eN),t.LFG(ve.T))};static#e=this.\u0275prov=t.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}var J=A(9549),Qt=A(754),se=A(4144),at=A(9602),w=A(7392),dt=A(2371);function Ht(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function rt(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function we(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function ht(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function S(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function Te(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}class Tt{constructor(m,l,v,x){this.fb=m,this.TodoService=l,this.router=v,this.datePipe=x}ngOnInit(){this.createForm()}createForm(){this.addTodoForm=this.fb.group({user_id:["",[b.kI.required]],title:["",[b.kI.required]],description:[""],startDate:["",[b.kI.required]],endDate:["",[b.kI.required]],startTime:["",[b.kI.required]],endTime:["",[b.kI.required]],start:["",[b.kI.required]],end:["",[b.kI.required]]})}saveToDo(){this.addTodoForm.get("start").patchValue(this.datePipe.transform(this.addTodoForm.get("startDate").value,"yyyy-MM-dd").concat(" ").concat(this.addTodoForm.get("startTime").value)),this.addTodoForm.get("end").patchValue(this.datePipe.transform(this.addTodoForm.get("endDate").value,"yyyy-MM-dd").concat(" ").concat(this.addTodoForm.get("endTime").value)),this.addTodoForm.valid&&this.TodoService.create(this.addTodoForm.value).subscribe(m=>{this.router.navigate(["General/todo"])})}static#t=this.\u0275fac=function(l){return new(l||Tt)(t.Y36(b.qu),t.Y36(G),t.Y36(z.F0),t.Y36(X.uU))};static#e=this.\u0275cmp=t.Xpm({type:Tt,selectors:[["app-todo-add"]],decls:72,vars:39,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","submit","form","toDo-form",1,"btn","btn-primary","btn-lg"],[1,"card-body"],["id","toDo-form","method","POST",3,"formGroup","ngSubmit"],[1,"row","justify-content-right"],[1,"col"],[1,"form-group"],["inputName","user_id",3,"form"],[1,"col-12"],[1,"example-full-width","w-100"],["matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],[1,"col-5","px-0"],["appearance","fill",1,"w-100"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startDate",""],[1,"w-100"],["matInput","","name","selected_time_A","formControlName","startTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["matSuffix","",3,"click"],["startTime",""],[1,"col-2"],["matInput","","formControlName","endDate",3,"matDatepicker","min"],["endDate",""],["matInput","","name","selected_time_A","formControlName","endTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["endTime",""]],template:function(l,v){if(1&l){const x=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",6)(11,"form",7),t.NdJ("ngSubmit",function(){return v.saveToDo()}),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10),t._UZ(15,"app-users-search",11),t.qZA()()(),t.TgZ(16,"div",8)(17,"div",12)(18,"div",10)(19,"mat-form-field",13)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",14),t.ALo(24,"translate"),t.YNc(25,Ht,4,3,"mat-error",15),t.qZA()()(),t.TgZ(26,"div",12)(27,"div",10)(28,"mat-form-field",13)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"textarea",16),t.ALo(33,"translate"),t.YNc(34,rt,4,3,"mat-error",15),t.qZA()()(),t.TgZ(35,"div",17)(36,"mat-form-field",18)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",19)(41,"mat-datepicker-toggle",20)(42,"mat-datepicker",null,21),t.YNc(44,we,3,3,"mat-error",15),t.qZA(),t.TgZ(45,"mat-form-field",22),t._UZ(46,"input",23),t.TgZ(47,"mat-icon",24),t.NdJ("click",function(){t.CHM(x);const Y=t.MAs(51);return t.KtG(Y.open())}),t._uU(48," watch_later "),t.qZA(),t.YNc(49,ht,3,3,"mat-error",15),t.qZA(),t._UZ(50,"ngx-mat-timepicker",null,25),t.qZA(),t._UZ(52,"div",26),t.TgZ(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",27),t.TgZ(59,"mat-hint"),t._uU(60,"MM/DD/YYYY"),t.qZA(),t._UZ(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,28),t.YNc(64,S,3,3,"mat-error",15),t.qZA(),t.TgZ(65,"mat-form-field",22),t._UZ(66,"input",29),t.TgZ(67,"mat-icon",24),t.NdJ("click",function(){t.CHM(x);const Y=t.MAs(71);return t.KtG(Y.open())}),t._uU(68," watch_later "),t.qZA(),t.YNc(69,Te,3,3,"mat-error",15),t.qZA(),t._UZ(70,"ngx-mat-timepicker",null,30),t.qZA()()()()()}if(2&l){const x=t.MAs(43),E=t.MAs(51),Y=t.MAs(63),Zt=t.MAs(71);t.xp6(4),t.hij(" ",t.lcZ(5,23,"meeting_manager.add_new")," "),t.xp6(4),t.hij(" ",t.lcZ(9,25,"adminstration.save")," "),t.xp6(3),t.Q6J("formGroup",v.addTodoForm),t.xp6(4),t.Q6J("form",v.addTodoForm),t.xp6(6),t.hij(" ",t.lcZ(22,27,"adminstration.title")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,29,"adminstration.title")),t.xp6(2),t.Q6J("ngIf",v.addTodoForm.get("title").hasError("required")),t.xp6(5),t.Oqu(t.lcZ(31,31,"adminstration.description")),t.xp6(2),t.s9C("placeholder",t.lcZ(33,33,"adminstration.description")),t.xp6(2),t.Q6J("ngIf",v.addTodoForm.get("description").hasError("required")),t.xp6(4),t.Oqu(t.lcZ(39,35,"meeting_manager.start_date")),t.xp6(2),t.Q6J("matDatepicker",x),t.xp6(1),t.Q6J("for",x),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("startDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",E),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("startTime").hasError("required")),t.xp6(7),t.Oqu(t.lcZ(57,37,"meeting_manager.end_date")),t.xp6(2),t.Q6J("matDatepicker",Y)("min",v.addTodoForm.get("startDate").value),t.xp6(3),t.Q6J("for",Y),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("endDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",Zt),t.xp6(3),t.Q6J("ngIf",v.addTodoForm.get("endTime").hasError("required"))}},dependencies:[X.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,J.KE,J.hX,J.bx,J.TO,J.R9,Qt.L,se.Nt,at.Mq,at.hl,at.nW,w.Hw,dt.ft,dt.Bi,y.X$],styles:[".mat-radio-button[_ngcontent-%COMP%]{margin:1rem}.mat-checkbox[_ngcontent-%COMP%]{display:inline-block;margin:1rem 1rem 1rem 0}.mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.mat-card[_ngcontent-%COMP%]{max-width:300px}.mat-slider[_ngcontent-%COMP%]{margin:0 .5rem}mat-placeholder[_ngcontent-%COMP%]{text-transform:capitalize}"]})}class q{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(l){return new(l||q)};static#e=this.\u0275cmp=t.Xpm({type:q,selectors:[["app-todo-index"]],decls:1,vars:0,template:function(l,v){1&l&&t._UZ(0,"router-outlet")},dependencies:[z.lC]})}var M=A(572);const Ze=function(){return["add"]};class B{constructor(m,l,v){this.TodoService=m,this.translate=l,this.route=v}ngOnInit(){this.columns=[{data:"title",title:this.translate.instant("adminstration.title")},{data:"is_done",title:this.translate.instant("adminstration.status")},{data:"start",title:this.translate.instant("meeting_manager.start_date")},{data:"end",title:this.translate.instant("meeting_manager.end_date")},{data:"action",title:this.translate.instant("adminstration.actions"),searchable:!1,orderable:!1}]}eventHandler(m){switch(console.log("event ",m),m.type){case"delete":this.TodoService.delete(m.payload).subscribe(()=>{this.TodoService.datatableRerender.next(!0)});break;case"update":this.route.navigate(["General/todo/todo-update",m.payload])}}static#t=this.\u0275fac=function(l){return new(l||B)(t.Y36(G),t.Y36(y.sK),t.Y36(z.F0))};static#e=this.\u0275cmp=t.Xpm({type:B,selectors:[["app-todo-list"]],decls:13,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-primary","font-weight-bolder",3,"routerLink"],["aria-hidden","true",1,"fa","fa-plus"],[1,"card-body","dataTable_container"],[3,"method","service","columns","event"]],template:function(l,v){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"a",5),t._UZ(8,"i",6),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",7)(12,"app-data-table",8),t.NdJ("event",function(E){return v.eventHandler(E)}),t.qZA()()()),2&l&&(t.xp6(4),t.hij(" ",t.lcZ(5,6,"adminstration.myActivity")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(10,Ze)),t.xp6(2),t.hij(" ",t.lcZ(10,8,"meeting_manager.add_new")," "),t.xp6(3),t.Q6J("method","listDataTable")("service",v.TodoService)("columns",v.columns))},dependencies:[z.rH,M.Q,y.X$],styles:[".flaticon2-chronometer[_ngcontent-%COMP%]{font-size:1.3em}.dataTable_container[_ngcontent-%COMP%]{overflow:auto}"]})}function Ae(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function W(c,m){1&c&&(t.TgZ(0,"mat-error")(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"adminstration.required")," "))}function ye(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function I(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function Q(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}function pt(c,m){1&c&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"adminstration.required")," "))}class Nt{constructor(m,l,v,x){this.fb=m,this.router=l,this.TodoService=v,this.ActiveRoute=x,this.preSelectedUsers=[]}ngOnInit(){this.createForm(),this.getSlug()}createForm(){this.updateTodoForm=this.fb.group({user_id:[this.preSelectedUsers,[b.kI.required]],title:["",[b.kI.required]],description:["",[b.kI.required]],startDate:["",[b.kI.required]],startTime:["",[b.kI.required]],endDate:["",[b.kI.required]],endTime:["",[b.kI.required]]})}getSlug(){this.ActiveRoute.params.subscribe(m=>{this.slug=m.slug,this.showTodo()})}updateTodo(){this.TodoService.update(this.slug,this.updateTodoForm.value).subscribe(m=>{this.router.navigate(["General/todo"])})}showTodo(){this.TodoService.show(this.slug).subscribe(m=>{var l=m.Data.toDo.start.split(" "),v=m.Data.toDo.end.split(" ");this.updateTodoForm.get("startDate").patchValue(l[0]),this.updateTodoForm.get("startTime").patchValue(l[1]),this.updateTodoForm.get("endDate").patchValue(v[0]),this.updateTodoForm.get("endTime").patchValue(v[1]),this.preSelectedUsers.push({id:m.Data.toDo.user_id,type:"user"}),this.updateTodoForm.get("title").patchValue(m.Data.toDo.title),this.updateTodoForm.get("description").patchValue(m.Data.toDo.description),console.log("date = ",l[0],"time = ",l[1],"Data = ",m.Data.toDo)})}static#t=this.\u0275fac=function(l){return new(l||Nt)(t.Y36(b.qu),t.Y36(z.F0),t.Y36(G),t.Y36(z.gz))};static#e=this.\u0275cmp=t.Xpm({type:Nt,selectors:[["app-todo-update"]],decls:72,vars:40,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","flex-wrap","border-0","pt-6","pb-0"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","submit","form","update-form",1,"btn","btn-primary","btn-lg"],[1,"card-body"],["id","update-form","method","POST",3,"formGroup","ngSubmit"],[1,"row","justify-content-right"],[1,"col"],[1,"form-group"],["inputName","user_id",3,"form","attendeesItems","preSelected"],[1,"col-12"],[1,"example-full-width","w-100"],["matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],[1,"col-5","px-0"],["appearance","fill",1,"w-100"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startDate",""],[1,"w-100"],["matInput","","name","selected_time_A","formControlName","startTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["matSuffix","",3,"click"],["startTime",""],[1,"col-2"],["matInput","","formControlName","endDate",3,"matDatepicker"],["endDate",""],["matInput","","name","selected_time_A","formControlName","endTime","placeholder","4:00 PM","readonly","",3,"ngxMatTimepicker"],["endTime",""]],template:function(l,v){if(1&l){const x=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",6)(11,"form",7),t.NdJ("ngSubmit",function(){return v.updateTodo()}),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10),t._UZ(15,"app-users-search",11),t.qZA()()(),t.TgZ(16,"div",8)(17,"div",12)(18,"div",10)(19,"mat-form-field",13)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",14),t.ALo(24,"translate"),t.YNc(25,Ae,4,3,"mat-error",15),t.qZA()()(),t.TgZ(26,"div",12)(27,"div",10)(28,"mat-form-field",13)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"textarea",16),t.ALo(33,"translate"),t.YNc(34,W,4,3,"mat-error",15),t.qZA()()(),t.TgZ(35,"div",17)(36,"mat-form-field",18)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",19)(41,"mat-datepicker-toggle",20)(42,"mat-datepicker",null,21),t.YNc(44,ye,3,3,"mat-error",15),t.qZA(),t.TgZ(45,"mat-form-field",22),t._UZ(46,"input",23),t.TgZ(47,"mat-icon",24),t.NdJ("click",function(){t.CHM(x);const Y=t.MAs(51);return t.KtG(Y.open())}),t._uU(48," watch_later "),t.qZA(),t.YNc(49,I,3,3,"mat-error",15),t.qZA(),t._UZ(50,"ngx-mat-timepicker",null,25),t.qZA(),t._UZ(52,"div",26),t.TgZ(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",27),t.TgZ(59,"mat-hint"),t._uU(60,"MM/DD/YYYY"),t.qZA(),t._UZ(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,28),t.YNc(64,Q,3,3,"mat-error",15),t.qZA(),t.TgZ(65,"mat-form-field",22),t._UZ(66,"input",29),t.TgZ(67,"mat-icon",24),t.NdJ("click",function(){t.CHM(x);const Y=t.MAs(71);return t.KtG(Y.open())}),t._uU(68," watch_later "),t.qZA(),t.YNc(69,pt,3,3,"mat-error",15),t.qZA(),t._UZ(70,"ngx-mat-timepicker",null,30),t.qZA()()()()()}if(2&l){const x=t.MAs(43),E=t.MAs(51),Y=t.MAs(63),Zt=t.MAs(71);t.xp6(4),t.hij(" ",t.lcZ(5,24,"meeting_manager.edit")," "),t.xp6(4),t.hij(" ",t.lcZ(9,26,"adminstration.save")," "),t.xp6(3),t.Q6J("formGroup",v.updateTodoForm),t.xp6(4),t.Q6J("form",v.updateTodoForm)("attendeesItems",v.updateTodoForm.get("user_id").value)("preSelected",v.preSelectedUsers),t.xp6(6),t.hij(" ",t.lcZ(22,28,"adminstration.title")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,30,"adminstration.title")),t.xp6(2),t.Q6J("ngIf",v.updateTodoForm.get("title").hasError("required")),t.xp6(5),t.Oqu(t.lcZ(31,32,"adminstration.description")),t.xp6(2),t.s9C("placeholder",t.lcZ(33,34,"adminstration.description")),t.xp6(2),t.Q6J("ngIf",v.updateTodoForm.get("description").hasError("required")),t.xp6(4),t.Oqu(t.lcZ(39,36,"meeting_manager.start_date")),t.xp6(2),t.Q6J("matDatepicker",x),t.xp6(1),t.Q6J("for",x),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("startDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",E),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("startTime").hasError("required")),t.xp6(7),t.Oqu(t.lcZ(57,38,"meeting_manager.end_date")),t.xp6(2),t.Q6J("matDatepicker",Y),t.xp6(3),t.Q6J("for",Y),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("endDate").hasError("required")),t.xp6(2),t.Q6J("ngxMatTimepicker",Zt),t.xp6(3),t.Q6J("ngIf",v.updateTodoForm.get("endTime").hasError("required"))}},dependencies:[X.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,J.KE,J.hX,J.bx,J.TO,J.R9,Qt.L,se.Nt,at.Mq,at.hl,at.nW,w.Hw,dt.ft,dt.Bi,y.X$]})}const Bt=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:wt},{path:"todo",component:q,children:[{path:"",component:B},{path:"add",component:Tt},{path:"todo-update/:slug",component:Nt}]}];class mt{static#t=this.\u0275fac=function(l){return new(l||mt)};static#e=this.\u0275mod=t.oAB({type:mt});static#i=this.\u0275inj=t.cJS({imports:[z.Bz.forChild(Bt),z.Bz]})}class K{static#t=this.\u0275fac=function(l){return new(l||K)};static#e=this.\u0275mod=t.oAB({type:K});static#i=this.\u0275inj=t.cJS({providers:[X.uU],imports:[X.ez,mt,It.m,de.q,at.FA,dt.Yy.setLocale("en-GB")]})}},4763:function(Me){Me.exports=function(){"use strict";function Dt(r,e){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),a.push.apply(a,i)}return a}function A(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(a),!0).forEach(function(i){b(r,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Dt(Object(a)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(a,i))})}return r}function It(r){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function de(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function X(r,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function b(r,e,a){return e in r?Object.defineProperty(r,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[e]=a,r}function t(r){return function he(r){if(Array.isArray(r))return Ut(r)}(r)||function pe(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function me(r,e){if(r){if("string"==typeof r)return Ut(r,e);var a=Object.prototype.toString.call(r).slice(8,-1);if("Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a)return Array.from(r);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ut(r,e)}}(r)||function fe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(r,e){(null==e||e>r.length)&&(e=r.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=r[a];return i}var Mt=typeof window<"u"&&typeof window.document<"u",F=Mt?window:{},st=!(!Mt||!F.document.documentElement)&&"ontouchstart"in F.document.documentElement,kt=!!Mt&&"PointerEvent"in F,y="cropper",V="n",gt="ne",_t="nw",vt="se",xt="sw",Pt="".concat(y,"-crop"),Wt="".concat(y,"-disabled"),O="".concat(y,"-hidden"),Kt="".concat(y,"-hide"),ue="".concat(y,"-invisible"),qt="".concat(y,"-modal"),Ot="".concat(y,"-move"),bt="".concat(y,"Action"),Et="".concat(y,"Preview"),St="crop",Yt="crop",Rt="cropend",Jt="cropmove",jt="cropstart",ee="dblclick",ct=kt?"pointerdown":st?"touchstart":"mousedown",ie=kt?"pointermove":st?"touchmove":"mousemove",ae=kt?"pointerup pointercancel":st?"touchend touchcancel":"mouseup",Ft="zoom",ne="image/jpeg",ve=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xe=/^data:/,be=/^data:image\/jpeg;base64,/,qe=/^img|canvas$/i,Qt={viewMode:0,dragMode:St,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},at=Number.isNaN||F.isNaN;function w(r){return"number"==typeof r&&!at(r)}var dt=function(e){return e>0&&e<1/0};function Ht(r){return typeof r>"u"}function rt(r){return"object"===It(r)&&null!==r}var we=Object.prototype.hasOwnProperty;function ht(r){if(!rt(r))return!1;try{var e=r.constructor,a=e.prototype;return e&&a&&we.call(a,"isPrototypeOf")}catch{return!1}}function S(r){return"function"==typeof r}var Te=Array.prototype.slice;function Tt(r){return Array.from?Array.from(r):Te.call(r)}function q(r,e){return r&&S(e)&&(Array.isArray(r)||w(r.length)?Tt(r).forEach(function(a,i){e.call(r,a,i,r)}):rt(r)&&Object.keys(r).forEach(function(a){e.call(r,r[a],a,r)})),r}var M=Object.assign||function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return rt(e)&&i.length>0&&i.forEach(function(o){rt(o)&&Object.keys(o).forEach(function(n){e[n]=o[n]})}),e},Ze=/\.\d*(?:0|9){12}\d*$/;function B(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Ze.test(r)?Math.round(r*e)/e:r}var Ae=/^width|height|left|top|marginLeft|marginTop$/;function W(r,e){var a=r.style;q(e,function(i,s){Ae.test(s)&&w(i)&&(i="".concat(i,"px")),a[s]=i})}function I(r,e){if(e){if(w(r.length))return void q(r,function(i){I(i,e)});if(r.classList)return void r.classList.add(e);var a=r.className.trim();a?a.indexOf(e)<0&&(r.className="".concat(a," ").concat(e)):r.className=e}}function Q(r,e){if(e){if(w(r.length))return void q(r,function(a){Q(a,e)});if(r.classList)return void r.classList.remove(e);r.className.indexOf(e)>=0&&(r.className=r.className.replace(e,""))}}function pt(r,e,a){if(e){if(w(r.length))return void q(r,function(i){pt(i,e,a)});a?I(r,e):Q(r,e)}}var Nt=/([a-z\d])([A-Z])/g;function Bt(r){return r.replace(Nt,"$1-$2").toLowerCase()}function mt(r,e){return rt(r[e])?r[e]:r.dataset?r.dataset[e]:r.getAttribute("data-".concat(Bt(e)))}function K(r,e,a){rt(a)?r[e]=a:r.dataset?r.dataset[e]=a:r.setAttribute("data-".concat(Bt(e)),a)}var m=/\s\s*/,l=function(){var r=!1;if(Mt){var e=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return r=!0,e},set:function(o){e=o}});F.addEventListener("test",a,i),F.removeEventListener("test",a,i)}return r}();function v(r,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a;e.trim().split(m).forEach(function(o){if(!l){var n=r.listeners;n&&n[o]&&n[o][a]&&(s=n[o][a],delete n[o][a],0===Object.keys(n[o]).length&&delete n[o],0===Object.keys(n).length&&delete r.listeners)}r.removeEventListener(o,s,i)})}function x(r,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a;e.trim().split(m).forEach(function(o){if(i.once&&!l){var n=r.listeners,d=void 0===n?{}:n;s=function(){delete d[o][a],r.removeEventListener(o,s,i);for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];a.apply(r,h)},d[o]||(d[o]={}),d[o][a]&&r.removeEventListener(o,d[o][a],i),d[o][a]=s,r.listeners=d}r.addEventListener(o,s,i)})}function E(r,e,a){var i;return S(Event)&&S(CustomEvent)?i=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,a),r.dispatchEvent(i)}function Y(r){var e=r.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Zt=F.location,Se=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ee(r){var e=r.match(Se);return null!==e&&(e[1]!==Zt.protocol||e[2]!==Zt.hostname||e[3]!==Zt.port)}function Ne(r){var e="timestamp=".concat((new Date).getTime());return r+(-1===r.indexOf("?")?"?":"&")+e}function Xt(r){var e=r.rotate,a=r.scaleX,i=r.scaleY,s=r.translateX,o=r.translateY,n=[];w(s)&&0!==s&&n.push("translateX(".concat(s,"px)")),w(o)&&0!==o&&n.push("translateY(".concat(o,"px)")),w(e)&&0!==e&&n.push("rotate(".concat(e,"deg)")),w(a)&&1!==a&&n.push("scaleX(".concat(a,")")),w(i)&&1!==i&&n.push("scaleY(".concat(i,")"));var d=n.length?n.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function le(r,e){var a=r.pageX,i=r.pageY,s={endX:a,endY:i};return e?s:A({startX:a,startY:i},s)}function ft(r){var e=r.aspectRatio,a=r.height,i=r.width,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=dt(i),n=dt(a);if(o&&n){var d=a*e;"contain"===s&&d>i||"cover"===s&&d<i?a=i/e:i=a*e}else o?a=i/e:n&&(i=a*e);return{width:i,height:a}}function je(r,e,a,i){var s=e.aspectRatio,o=e.naturalWidth,n=e.naturalHeight,d=e.rotate,g=void 0===d?0:d,f=e.scaleX,h=void 0===f?1:f,p=e.scaleY,u=void 0===p?1:p,Z=a.aspectRatio,T=a.naturalWidth,N=a.naturalHeight,C=i.fillColor,k=void 0===C?"transparent":C,P=i.imageSmoothingEnabled,U=void 0===P||P,ot=i.imageSmoothingQuality,j=void 0===ot?"low":ot,_=i.maxWidth,D=void 0===_?1/0:_,L=i.maxHeight,H=void 0===L?1/0:L,nt=i.minWidth,At=void 0===nt?0:nt,yt=i.minHeight,ut=void 0===yt?0:yt,$=document.createElement("canvas"),R=$.getContext("2d"),Ct=ft({aspectRatio:Z,width:D,height:H}),ce=ft({aspectRatio:Z,width:At,height:ut},"cover"),Ce=Math.min(Ct.width,Math.max(ce.width,T)),De=Math.min(Ct.height,Math.max(ce.height,N)),ke=ft({aspectRatio:s,width:D,height:H}),Le=ft({aspectRatio:s,width:At,height:ut},"cover"),Pe=Math.min(ke.width,Math.max(Le.width,o)),Oe=Math.min(ke.height,Math.max(Le.height,n)),ii=[-Pe/2,-Oe/2,Pe,Oe];return $.width=B(Ce),$.height=B(De),R.fillStyle=k,R.fillRect(0,0,Ce,De),R.save(),R.translate(Ce/2,De/2),R.rotate(g*Math.PI/180),R.scale(h,u),R.imageSmoothingEnabled=U,R.imageSmoothingQuality=j,R.drawImage.apply(R,[r].concat(t(ii.map(function(ai){return Math.floor(B(ai))})))),R.restore(),$}var Ie=String.fromCharCode;var Qe=/^data:.*,/;function Xe(r){var a,e=new DataView(r);try{var i,s,o;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var n=e.byteLength,d=2;d+1<n;){if(255===e.getUint8(d)&&225===e.getUint8(d+1)){s=d;break}d+=1}if(s){var f=s+10;if("Exif"===function Fe(r,e,a){var i="";a+=e;for(var s=e;s<a;s+=1)i+=Ie(r.getUint8(s));return i}(e,s+4,4)){var h=e.getUint16(f);if(((i=18761===h)||19789===h)&&42===e.getUint16(f+2,i)){var p=e.getUint32(f+4,i);p>=8&&(o=f+p)}}}if(o){var Z,T,u=e.getUint16(o,i);for(T=0;T<u;T+=1)if(274===e.getUint16(Z=o+12*T+2,i)){a=e.getUint16(Z+=8,i),e.setUint16(Z,1,i);break}}}catch{a=1}return a}var Ve={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,i=this.container,s=this.cropper,o=Number(a.minContainerWidth),n=Number(a.minContainerHeight);I(s,O),Q(e,O);var d={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,n>=0?n:100)};this.containerData=d,W(s,{width:d.width,height:d.height}),I(e,O),Q(s,O)},initCanvas:function(){var e=this.containerData,a=this.imageData,i=this.options.viewMode,s=Math.abs(a.rotate)%180==90,o=s?a.naturalHeight:a.naturalWidth,n=s?a.naturalWidth:a.naturalHeight,d=o/n,g=e.width,f=e.height;e.height*d>e.width?3===i?g=e.height*d:f=e.width/d:3===i?f=e.width/d:g=e.height*d;var h={aspectRatio:d,naturalWidth:o,naturalHeight:n,width:g,height:f};this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(e.width-h.width)/2,h.top=(e.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=M({},h)},limitCanvas:function(e,a){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,d=i.viewMode,g=o.aspectRatio,f=this.cropped&&n;if(e){var h=Number(i.minCanvasWidth)||0,p=Number(i.minCanvasHeight)||0;d>1?(h=Math.max(h,s.width),p=Math.max(p,s.height),3===d&&(p*g>h?h=p*g:p=h/g)):d>0&&(h?h=Math.max(h,f?n.width:0):p?p=Math.max(p,f?n.height:0):f&&((p=n.height)*g>(h=n.width)?h=p*g:p=h/g));var u=ft({aspectRatio:g,width:h,height:p});p=u.height,o.minWidth=h=u.width,o.minHeight=p,o.maxWidth=1/0,o.maxHeight=1/0}if(a)if(d>(f?0:1)){var Z=s.width-o.width,T=s.height-o.height;o.minLeft=Math.min(0,Z),o.minTop=Math.min(0,T),o.maxLeft=Math.max(0,Z),o.maxTop=Math.max(0,T),f&&this.limited&&(o.minLeft=Math.min(n.left,n.left+(n.width-o.width)),o.minTop=Math.min(n.top,n.top+(n.height-o.height)),o.maxLeft=n.left,o.maxTop=n.top,2===d&&(o.width>=s.width&&(o.minLeft=Math.min(0,Z),o.maxLeft=Math.max(0,Z)),o.height>=s.height&&(o.minTop=Math.min(0,T),o.maxTop=Math.max(0,T))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=s.width,o.maxTop=s.height},renderCanvas:function(e,a){var i=this.canvasData,s=this.imageData;if(a){var o=function Je(r){var e=r.width,a=r.height,i=r.degree;if(90==(i=Math.abs(i)%180))return{width:a,height:e};var s=i%90*Math.PI/180,o=Math.sin(s),n=Math.cos(s),d=e*n+a*o,g=e*o+a*n;return i>90?{width:g,height:d}:{width:d,height:g}}({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),n=o.width,d=o.height,g=i.width*(n/i.naturalWidth),f=i.height*(d/i.naturalHeight);i.left-=(g-i.width)/2,i.top-=(f-i.height)/2,i.width=g,i.height=f,i.aspectRatio=n/d,i.naturalWidth=n,i.naturalHeight=d,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,W(this.canvas,M({width:i.width,height:i.height},Xt({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,i=this.imageData,s=i.naturalWidth*(a.width/a.naturalWidth),o=i.naturalHeight*(a.height/a.naturalHeight);M(i,{width:s,height:o,left:(a.width-s)/2,top:(a.height-o)/2}),W(this.image,M({width:i.width,height:i.height},Xt(M({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,o={width:a.width,height:a.height};i&&(a.height*i>a.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*s),o.height=Math.max(o.minHeight,o.height*s),o.left=a.left+(a.width-o.width)/2,o.top=a.top+(a.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=M({},o)},limitCropBox:function(e,a){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,d=this.limited,g=i.aspectRatio;if(e){var f=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,p=d?Math.min(s.width,o.width,o.width+o.left,s.width-o.left):s.width,u=d?Math.min(s.height,o.height,o.height+o.top,s.height-o.top):s.height;f=Math.min(f,s.width),h=Math.min(h,s.height),g&&(f&&h?h*g>f?h=f/g:f=h*g:f?h=f/g:h&&(f=h*g),u*g>p?u=p/g:p=u*g),n.minWidth=Math.min(f,p),n.minHeight=Math.min(h,u),n.maxWidth=p,n.maxHeight=u}a&&(d?(n.minLeft=Math.max(0,o.left),n.minTop=Math.max(0,o.top),n.maxLeft=Math.min(s.width,o.left+o.width)-n.width,n.maxTop=Math.min(s.height,o.top+o.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=s.width-n.width,n.maxTop=s.height-n.height))},renderCropBox:function(){var e=this.options,a=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&K(this.face,bt,i.width>=a.width&&i.height>=a.height?"move":"all"),W(this.cropBox,M({width:i.width,height:i.height},Xt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),E(this.element,Yt,this.getData())}},Ge={initPreview:function(){var e=this.element,a=this.crossOrigin,i=this.options.preview,s=a?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",n=document.createElement("img");if(a&&(n.crossOrigin=a),n.src=s,n.alt=o,this.viewBox.appendChild(n),this.viewBoxImage=n,i){var d=i;"string"==typeof i?d=e.ownerDocument.querySelectorAll(i):i.querySelector&&(d=[i]),this.previews=d,q(d,function(g){var f=document.createElement("img");K(g,Et,{width:g.offsetWidth,height:g.offsetHeight,html:g.innerHTML}),a&&(f.crossOrigin=a),f.src=s,f.alt=o,f.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',g.innerHTML="",g.appendChild(f)})}},resetPreview:function(){q(this.previews,function(e){var a=mt(e,Et);W(e,{width:a.width,height:a.height}),e.innerHTML=a.html,function c(r,e){if(rt(r[e]))try{delete r[e]}catch{r[e]=void 0}else if(r.dataset)try{delete r.dataset[e]}catch{r.dataset[e]=void 0}else r.removeAttribute("data-".concat(Bt(e)))}(e,Et)})},preview:function(){var e=this.imageData,a=this.canvasData,i=this.cropBoxData,s=i.width,o=i.height,n=e.width,d=e.height,g=i.left-a.left-e.left,f=i.top-a.top-e.top;!this.cropped||this.disabled||(W(this.viewBoxImage,M({width:n,height:d},Xt(M({translateX:-g,translateY:-f},e)))),q(this.previews,function(h){var p=mt(h,Et),u=p.width,Z=p.height,T=u,N=Z,C=1;s&&(N=o*(C=u/s)),o&&N>Z&&(T=s*(C=Z/o),N=Z),W(h,{width:T,height:N}),W(h.getElementsByTagName("img")[0],M({width:n*C,height:d*C},Xt(M({translateX:-g*C,translateY:-f*C},e))))}))}},We={bind:function(){var e=this.element,a=this.options,i=this.cropper;S(a.cropstart)&&x(e,jt,a.cropstart),S(a.cropmove)&&x(e,Jt,a.cropmove),S(a.cropend)&&x(e,Rt,a.cropend),S(a.crop)&&x(e,Yt,a.crop),S(a.zoom)&&x(e,Ft,a.zoom),x(i,ct,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&x(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&x(i,ee,this.onDblclick=this.dblclick.bind(this)),x(e.ownerDocument,ie,this.onCropMove=this.cropMove.bind(this)),x(e.ownerDocument,ae,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&x(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,i=this.cropper;S(a.cropstart)&&v(e,jt,a.cropstart),S(a.cropmove)&&v(e,Jt,a.cropmove),S(a.cropend)&&v(e,Rt,a.cropend),S(a.crop)&&v(e,Yt,a.crop),S(a.zoom)&&v(e,Ft,a.zoom),v(i,ct,this.onCropStart),a.zoomable&&a.zoomOnWheel&&v(i,"wheel",this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&v(i,ee,this.onDblclick),v(e.ownerDocument,ie,this.onCropMove),v(e.ownerDocument,ae,this.onCropEnd),a.responsive&&v(window,"resize",this.onResize)}},Ke={resize:function(){if(!this.disabled){var d,g,e=this.options,a=this.container,i=this.containerData,s=a.offsetWidth/i.width,o=a.offsetHeight/i.height,n=Math.abs(s-1)>Math.abs(o-1)?s:o;1!==n&&(e.restore&&(d=this.getCanvasData(),g=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(q(d,function(f,h){d[h]=f*n})),this.setCropBoxData(q(g,function(f,h){g[h]=f*n}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function ye(r,e){return r.classList?r.classList.contains(e):r.className.indexOf(e)>-1}(this.dragBox,Pt)?"move":St)},wheel:function(e){var a=this,i=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*i,e)))},cropStart:function(e){var a=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(w(a)&&1!==a||w(i)&&0!==i||e.ctrlKey))){var n,s=this.options,o=this.pointers;e.changedTouches?q(e.changedTouches,function(d){o[d.identifier]=le(d)}):o[e.pointerId||0]=le(e),n=Object.keys(o).length>1&&s.zoomable&&s.zoomOnTouch?"zoom":mt(e.target,bt),ve.test(n)&&!1!==E(this.element,jt,{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,I(this.dragBox,qt)))}},cropMove:function(e){var a=this.action;if(!this.disabled&&a){var i=this.pointers;e.preventDefault(),!1!==E(this.element,Jt,{originalEvent:e,action:a})&&(e.changedTouches?q(e.changedTouches,function(s){M(i[s.identifier]||{},le(s,!0))}):M(i[e.pointerId||0]||{},le(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,i=this.pointers;e.changedTouches?q(e.changedTouches,function(s){delete i[s.identifier]}):delete i[e.pointerId||0],a&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,pt(this.dragBox,qt,this.cropped&&this.options.modal)),E(this.element,Rt,{originalEvent:e,action:a}))}}},$e={change:function(e){var ot,i=this.canvasData,s=this.containerData,o=this.cropBoxData,n=this.pointers,d=this.action,g=this.options.aspectRatio,f=o.left,h=o.top,p=o.width,u=o.height,Z=f+p,T=h+u,N=0,C=0,k=s.width,P=s.height,U=!0;!g&&e.shiftKey&&(g=p&&u?p/u:1),this.limited&&(C=o.minTop,k=(N=o.minLeft)+Math.min(s.width,i.width,i.left+i.width),P=C+Math.min(s.height,i.height,i.top+i.height));var j=n[Object.keys(n)[0]],_={x:j.endX-j.startX,y:j.endY-j.startY},D=function(H){switch(H){case"e":Z+_.x>k&&(_.x=k-Z);break;case"w":f+_.x<N&&(_.x=N-f);break;case V:h+_.y<C&&(_.y=C-h);break;case"s":T+_.y>P&&(_.y=P-T)}};switch(d){case"all":f+=_.x,h+=_.y;break;case"e":if(_.x>=0&&(Z>=k||g&&(h<=C||T>=P))){U=!1;break}D("e"),(p+=_.x)<0&&(d="w",f-=p=-p),g&&(h+=(o.height-(u=p/g))/2);break;case V:if(_.y<=0&&(h<=C||g&&(f<=N||Z>=k))){U=!1;break}D(V),h+=_.y,(u-=_.y)<0&&(d="s",h-=u=-u),g&&(f+=(o.width-(p=u*g))/2);break;case"w":if(_.x<=0&&(f<=N||g&&(h<=C||T>=P))){U=!1;break}D("w"),f+=_.x,(p-=_.x)<0&&(d="e",f-=p=-p),g&&(h+=(o.height-(u=p/g))/2);break;case"s":if(_.y>=0&&(T>=P||g&&(f<=N||Z>=k))){U=!1;break}D("s"),(u+=_.y)<0&&(d=V,h-=u=-u),g&&(f+=(o.width-(p=u*g))/2);break;case gt:if(g){if(_.y<=0&&(h<=C||Z>=k)){U=!1;break}D(V),h+=_.y,p=(u-=_.y)*g}else D(V),D("e"),_.x>=0?Z<k?p+=_.x:_.y<=0&&h<=C&&(U=!1):p+=_.x,_.y<=0?h>C&&(u-=_.y,h+=_.y):(u-=_.y,h+=_.y);p<0&&u<0?(d=xt,h-=u=-u,f-=p=-p):p<0?(d=_t,f-=p=-p):u<0&&(d=vt,h-=u=-u);break;case _t:if(g){if(_.y<=0&&(h<=C||f<=N)){U=!1;break}D(V),h+=_.y,f+=o.width-(p=(u-=_.y)*g)}else D(V),D("w"),_.x<=0?f>N?(p-=_.x,f+=_.x):_.y<=0&&h<=C&&(U=!1):(p-=_.x,f+=_.x),_.y<=0?h>C&&(u-=_.y,h+=_.y):(u-=_.y,h+=_.y);p<0&&u<0?(d=vt,h-=u=-u,f-=p=-p):p<0?(d=gt,f-=p=-p):u<0&&(d=xt,h-=u=-u);break;case xt:if(g){if(_.x<=0&&(f<=N||T>=P)){U=!1;break}D("w"),f+=_.x,u=(p-=_.x)/g}else D("s"),D("w"),_.x<=0?f>N?(p-=_.x,f+=_.x):_.y>=0&&T>=P&&(U=!1):(p-=_.x,f+=_.x),_.y>=0?T<P&&(u+=_.y):u+=_.y;p<0&&u<0?(d=gt,h-=u=-u,f-=p=-p):p<0?(d=vt,f-=p=-p):u<0&&(d=_t,h-=u=-u);break;case vt:if(g){if(_.x>=0&&(Z>=k||T>=P)){U=!1;break}D("e"),u=(p+=_.x)/g}else D("s"),D("e"),_.x>=0?Z<k?p+=_.x:_.y>=0&&T>=P&&(U=!1):p+=_.x,_.y>=0?T<P&&(u+=_.y):u+=_.y;p<0&&u<0?(d=_t,h-=u=-u,f-=p=-p):p<0?(d=xt,f-=p=-p):u<0&&(d=gt,h-=u=-u);break;case"move":this.move(_.x,_.y),U=!1;break;case"zoom":this.zoom(function Ye(r){var e=A({},r),a=0;return q(r,function(i,s){delete e[s],q(e,function(o){var n=Math.abs(i.startX-o.startX),d=Math.abs(i.startY-o.startY),g=Math.abs(i.endX-o.endX),f=Math.abs(i.endY-o.endY),h=Math.sqrt(n*n+d*d),u=(Math.sqrt(g*g+f*f)-h)/h;Math.abs(u)>Math.abs(a)&&(a=u)})}),a}(n),e),U=!1;break;case"crop":if(!_.x||!_.y){U=!1;break}ot=Y(this.cropper),f=j.startX-ot.left,h=j.startY-ot.top,p=o.minWidth,u=o.minHeight,_.x>0?d=_.y>0?vt:gt:_.x<0&&(f-=p,d=_.y>0?xt:_t),_.y<0&&(h-=u),this.cropped||(Q(this.cropBox,O),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}U&&(o.width=p,o.height=u,o.left=f,o.top=h,this.action=d,this.renderCropBox()),q(n,function(L){L.startX=L.endX,L.startY=L.endY})}},ti={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&I(this.dragBox,qt),Q(this.cropBox,O),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=M({},this.initialImageData),this.canvasData=M({},this.initialCanvasData),this.cropBoxData=M({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(M(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Q(this.dragBox,qt),I(this.cropBox,O)),this},replace:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,q(this.previews,function(i){i.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Q(this.cropper,Wt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,I(this.cropper,Wt)),this},destroy:function(){var e=this.element;return e[y]?(e[y]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,s=i.left,o=i.top;return this.moveTo(Ht(e)?e:s+Number(e),Ht(a)?a:o+Number(a))},moveTo:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(w(e)&&(i.left=e,s=!0),w(a)&&(i.top=a,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,a){var i=this.canvasData;return e=Number(e),this.zoomTo(i.width*(e=e<0?1/(1-e):1+e)/i.naturalWidth,null,a)},zoomTo:function(e,a,i){var s=this.options,o=this.canvasData,n=o.width,d=o.height,g=o.naturalWidth,f=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&s.zoomable){var h=g*e,p=f*e;if(!1===E(this.element,Ft,{ratio:e,oldRatio:n/g,originalEvent:i}))return this;if(i){var u=this.pointers,Z=Y(this.cropper),T=u&&Object.keys(u).length?function Re(r){var e=0,a=0,i=0;return q(r,function(s){e+=s.startX,a+=s.startY,i+=1}),{pageX:e/=i,pageY:a/=i}}(u):{pageX:i.pageX,pageY:i.pageY};o.left-=(T.pageX-Z.left-o.left)/n*(h-n),o.top-=(T.pageY-Z.top-o.top)/d*(p-d)}else ht(a)&&w(a.x)&&w(a.y)?(o.left-=(a.x-o.left)/n*(h-n),o.top-=(a.y-o.top)/d*(p-d)):(o.left-=(h-n)/2,o.top-=(p-d)/2);o.width=h,o.height=p,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return w(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,w(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(w(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(w(e)&&(i.scaleX=e,s=!0),w(a)&&(i.scaleY=a,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var n,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,i=this.imageData,s=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){var d=i.width/i.naturalWidth;if(q(n={x:o.left-s.left,y:o.top-s.top,width:o.width,height:o.height},function(h,p){n[p]=h/d}),e){var g=Math.round(n.y+n.height),f=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=f-n.x,n.height=g-n.y}}else n={x:0,y:0,width:0,height:0};return a.rotatable&&(n.rotate=i.rotate||0),a.scalable&&(n.scaleX=i.scaleX||1,n.scaleY=i.scaleY||1),n},setData:function(e){var a=this.options,i=this.imageData,s=this.canvasData,o={};if(this.ready&&!this.disabled&&ht(e)){var n=!1;a.rotatable&&w(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,n=!0),a.scalable&&(w(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,n=!0),w(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var d=i.width/i.naturalWidth;w(e.x)&&(o.left=e.x*d+s.left),w(e.y)&&(o.top=e.y*d+s.top),w(e.width)&&(o.width=e.width*d),w(e.height)&&(o.height=e.height*d),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?M({},this.containerData):{}},getImageData:function(){return this.sized?M({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&q(["left","top","width","height","naturalWidth","naturalHeight"],function(i){a[i]=e[i]}),a},setCanvasData:function(e){var a=this.canvasData,i=a.aspectRatio;return this.ready&&!this.disabled&&ht(e)&&(w(e.left)&&(a.left=e.left),w(e.top)&&(a.top=e.top),w(e.width)?(a.width=e.width,a.height=e.width/i):w(e.height)&&(a.height=e.height,a.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var a,e=this.cropBoxData;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var s,o,a=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ht(e)&&(w(e.left)&&(a.left=e.left),w(e.top)&&(a.top=e.top),w(e.width)&&e.width!==a.width&&(s=!0,a.width=e.width),w(e.height)&&e.height!==a.height&&(o=!0,a.height=e.height),i&&(s?a.height=a.width/i:o&&(a.width=a.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,i=je(this.image,this.imageData,a,e);if(!this.cropped)return i;var s=this.getData(),o=s.x,n=s.y,d=s.width,g=s.height,f=i.width/Math.floor(a.naturalWidth);1!==f&&(o*=f,n*=f,d*=f,g*=f);var h=d/g,p=ft({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=ft({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),Z=ft({aspectRatio:h,width:e.width||(1!==f?i.width:d),height:e.height||(1!==f?i.height:g)}),T=Z.width,N=Z.height;T=Math.min(p.width,Math.max(u.width,T)),N=Math.min(p.height,Math.max(u.height,N));var C=document.createElement("canvas"),k=C.getContext("2d");C.width=B(T),C.height=B(N),k.fillStyle=e.fillColor||"transparent",k.fillRect(0,0,T,N);var P=e.imageSmoothingEnabled,ot=e.imageSmoothingQuality;k.imageSmoothingEnabled=void 0===P||P,ot&&(k.imageSmoothingQuality=ot);var H,nt,At,yt,ut,$,j=i.width,_=i.height,D=o,L=n;D<=-d||D>j?(D=0,H=0,At=0,ut=0):D<=0?(At=-D,D=0,ut=H=Math.min(j,d+D)):D<=j&&(At=0,ut=H=Math.min(d,j-D)),H<=0||L<=-g||L>_?(L=0,nt=0,yt=0,$=0):L<=0?(yt=-L,L=0,$=nt=Math.min(_,g+L)):L<=_&&(yt=0,$=nt=Math.min(g,_-L));var R=[D,L,H,nt];if(ut>0&&$>0){var Ct=T/d;R.push(At*Ct,yt*Ct,ut*Ct,$*Ct)}return k.drawImage.apply(k,[i].concat(t(R.map(function(ce){return Math.floor(B(ce))})))),C},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!Ht(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,i=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var o=e===St,n=a.movable&&"move"===e;a.dragMode=e=o||n?e:"none",K(i,bt,e),pt(i,Pt,o),pt(i,Ot,n),a.cropBoxMovable||(K(s,bt,e),pt(s,Pt,o),pt(s,Ot,n))}return this}},ei=F.Cropper,Ue=function(){function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(de(this,r),!e||!qe.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=M({},Qt,ht(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function z(r,e,a){return e&&X(r.prototype,e),a&&X(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(r,[{key:"init",value:function(){var s,a=this.element,i=a.tagName.toLowerCase();if(!a[y]){if(a[y]=this,"img"===i){if(this.isImg=!0,s=a.getAttribute("src")||"",this.originalUrl=s,!s)return;s=a.src}else"canvas"===i&&window.HTMLCanvasElement&&(s=a.toDataURL());this.load(s)}}},{key:"load",value:function(a){var i=this;if(a){this.url=a,this.imageData={};var s=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer)return void this.clone();if(xe.test(a))return void(be.test(a)?this.read(function He(r){var e=r.replace(Qe,""),a=atob(e),i=new ArrayBuffer(a.length),s=new Uint8Array(i);return q(s,function(o,n){s[n]=a.charCodeAt(n)}),i}(a)):this.clone());var n=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=n,n.onabort=d,n.onerror=d,n.ontimeout=d,n.onprogress=function(){n.getResponseHeader("content-type")!==ne&&n.abort()},n.onload=function(){i.read(n.response)},n.onloadend=function(){i.reloading=!1,i.xhr=null},o.checkCrossOrigin&&Ee(a)&&s.crossOrigin&&(a=Ne(a)),n.open("GET",a,!0),n.responseType="arraybuffer",n.withCredentials="use-credentials"===s.crossOrigin,n.send()}}},{key:"read",value:function(a){var i=this.options,s=this.imageData,o=Xe(a),n=0,d=1,g=1;if(o>1){this.url=function Be(r,e){for(var a=[],s=new Uint8Array(r);s.length>0;)a.push(Ie.apply(null,Tt(s.subarray(0,8192)))),s=s.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}(a,ne);var f=function ze(r){var e=0,a=1,i=1;switch(r){case 2:a=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90}return{rotate:e,scaleX:a,scaleY:i}}(o);n=f.rotate,d=f.scaleX,g=f.scaleY}i.rotatable&&(s.rotate=n),i.scalable&&(s.scaleX=d,s.scaleY=g),this.clone()}},{key:"clone",value:function(){var a=this.element,i=this.url,s=a.crossOrigin,o=i;this.options.checkCrossOrigin&&Ee(i)&&(s||(s="anonymous"),o=Ne(i)),this.crossOrigin=s,this.crossOriginUrl=o;var n=document.createElement("img");s&&(n.crossOrigin=s),n.src=o||i,n.alt=a.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),I(n,Kt),a.parentNode.insertBefore(n,a.nextSibling)}},{key:"start",value:function(){var a=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var s=F.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(F.navigator.userAgent),o=function(f,h){M(a.imageData,{naturalWidth:f,naturalHeight:h,aspectRatio:f/h}),a.initialImageData=M({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(!i.naturalWidth||s){var n=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){o(n.width,n.height),s||d.removeChild(n)},n.src=i.src,s||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(n))}else o(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var a=this.element,i=this.options,s=this.image,o=a.parentNode,n=document.createElement("div");n.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var d=n.querySelector(".".concat(y,"-container")),g=d.querySelector(".".concat(y,"-canvas")),f=d.querySelector(".".concat(y,"-drag-box")),h=d.querySelector(".".concat(y,"-crop-box")),p=h.querySelector(".".concat(y,"-face"));this.container=o,this.cropper=d,this.canvas=g,this.dragBox=f,this.cropBox=h,this.viewBox=d.querySelector(".".concat(y,"-view-box")),this.face=p,g.appendChild(s),I(a,O),o.insertBefore(d,a.nextSibling),Q(s,Kt),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,I(h,O),i.guides||I(h.getElementsByClassName("".concat(y,"-dashed")),O),i.center||I(h.getElementsByClassName("".concat(y,"-center")),O),i.background&&I(d,"".concat(y,"-bg")),i.highlight||I(p,ue),i.cropBoxMovable&&(I(p,Ot),K(p,bt,"all")),i.cropBoxResizable||(I(h.getElementsByClassName("".concat(y,"-line")),O),I(h.getElementsByClassName("".concat(y,"-point")),O)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),S(i.ready)&&x(a,"ready",i.ready,{once:!0}),E(a,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),Q(this.element,O)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ei,r}},{key:"setDefaults",value:function(a){M(Qt,ht(a)&&a)}}]),r}();return M(Ue.prototype,Ve,Ge,We,Ke,$e,ti),Ue}()}}]);